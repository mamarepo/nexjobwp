"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_services_wpService_ts";
exports.ids = ["src_services_wpService_ts"];
exports.modules = {

/***/ "./src/services/wpService.ts":
/*!***********************************!*\
  !*** ./src/services/wpService.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WordPressService: () => (/* binding */ WordPressService),\n/* harmony export */   wpService: () => (/* binding */ wpService)\n/* harmony export */ });\nclass WordPressService {\n    setBaseUrl(url) {\n        this.baseUrl = url;\n    }\n    setFiltersApiUrl(url) {\n        this.filtersApiUrl = url;\n    }\n    setAuthToken(token) {\n        this.authToken = token;\n    }\n    getHeaders() {\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        if (this.authToken) {\n            headers[\"Authorization\"] = `Bearer ${this.authToken}`;\n        }\n        return headers;\n    }\n    decodeHtmlEntities(text) {\n        if (typeof document === \"undefined\") {\n            // Server-side fallback\n            return text.replace(/&/g, \"&\").replace(/</g, \"<\").replace(/>/g, \">\").replace(/\"/g, '\"').replace(/&#39;/g, \"'\");\n        }\n        const textarea = document.createElement(\"textarea\");\n        textarea.innerHTML = text;\n        return textarea.value;\n    }\n    stripHtmlTags(html) {\n        if (typeof document === \"undefined\") {\n            // Server-side fallback\n            return html.replace(/<[^>]*>/g, \"\");\n        }\n        const div = document.createElement(\"div\");\n        div.innerHTML = html;\n        return div.textContent || div.innerText || \"\";\n    }\n    getPreferredDescription(excerptRendered, rankMathDescription) {\n        // First try rank_math_description if it exists and is not empty\n        if (rankMathDescription && rankMathDescription.trim() !== \"\") {\n            return this.stripHtmlTags(this.decodeHtmlEntities(rankMathDescription));\n        }\n        // Fall back to excerpt if available\n        if (excerptRendered && excerptRendered.trim() !== \"\") {\n            return this.stripHtmlTags(this.decodeHtmlEntities(excerptRendered));\n        }\n        return \"\";\n    }\n    async getFiltersData() {\n        try {\n            const response = await fetch(this.filtersApiUrl, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch filters data\");\n            }\n            const data = await response.json();\n            // Decode HTML entities in filter data\n            const decodedData = {\n                nexjob_lokasi_provinsi: {},\n                nexjob_kategori_pekerjaan: [],\n                nexjob_tipe_pekerjaan: [],\n                nexjob_pengalaman_kerja: [],\n                nexjob_pendidikan: [],\n                nexjob_kebijakan_kerja: [],\n                nexjob_industri: []\n            };\n            // Decode location data\n            if (data.nexjob_lokasi_provinsi) {\n                Object.keys(data.nexjob_lokasi_provinsi).forEach((province)=>{\n                    const decodedProvince = this.decodeHtmlEntities(province);\n                    decodedData.nexjob_lokasi_provinsi[decodedProvince] = data.nexjob_lokasi_provinsi[province].map((city)=>this.decodeHtmlEntities(city));\n                });\n            }\n            // Decode other filter arrays\n            const filterKeys = [\n                \"nexjob_kategori_pekerjaan\",\n                \"nexjob_tipe_pekerjaan\",\n                \"nexjob_pengalaman_kerja\",\n                \"nexjob_pendidikan\",\n                \"nexjob_kebijakan_kerja\",\n                \"nexjob_industri\"\n            ];\n            filterKeys.forEach((key)=>{\n                if (data[key] && Array.isArray(data[key])) {\n                    decodedData[key] = data[key].map((item)=>this.decodeHtmlEntities(item));\n                }\n            });\n            return decodedData;\n        } catch (error) {\n            console.error(\"Error fetching filters data:\", error);\n            // Return fallback data\n            return this.getFallbackFiltersData();\n        }\n    }\n    getFallbackFiltersData() {\n        return {\n            nexjob_lokasi_provinsi: {\n                \"DKI Jakarta\": [\n                    \"Jakarta Pusat\",\n                    \"Jakarta Selatan\",\n                    \"Jakarta Barat\",\n                    \"Jakarta Utara\",\n                    \"Jakarta Timur\"\n                ],\n                \"Jawa Barat\": [\n                    \"Bandung\",\n                    \"Bekasi\",\n                    \"Bogor\",\n                    \"Depok\",\n                    \"Tangerang\"\n                ],\n                \"Jawa Timur\": [\n                    \"Surabaya\",\n                    \"Malang\",\n                    \"Kediri\",\n                    \"Sidoarjo\"\n                ],\n                \"Jawa Tengah\": [\n                    \"Semarang\",\n                    \"Solo\",\n                    \"Yogyakarta\"\n                ],\n                \"Bali\": [\n                    \"Denpasar\",\n                    \"Ubud\",\n                    \"Sanur\"\n                ],\n                \"Sumatera Utara\": [\n                    \"Medan\",\n                    \"Binjai\"\n                ]\n            },\n            nexjob_kategori_pekerjaan: [\n                \"Teknologi Informasi\",\n                \"Digital Marketing\",\n                \"Customer Service\",\n                \"Human Resources\",\n                \"Sales\",\n                \"Akuntansi\",\n                \"Healthcare\",\n                \"Pendidikan\",\n                \"Logistik\"\n            ],\n            nexjob_tipe_pekerjaan: [\n                \"Full Time\",\n                \"Part Time\",\n                \"Contract\",\n                \"Freelance\",\n                \"Internship\"\n            ],\n            nexjob_pengalaman_kerja: [\n                \"Fresh Graduate\",\n                \"1-2 Tahun\",\n                \"2-3 Tahun\",\n                \"3-5 Tahun\",\n                \"5+ Tahun\"\n            ],\n            nexjob_pendidikan: [\n                \"SMA/SMK\",\n                \"D3\",\n                \"S1\",\n                \"S2\"\n            ],\n            nexjob_kebijakan_kerja: [\n                \"On-site Working\",\n                \"Remote Working\",\n                \"Hybrid Working\"\n            ],\n            nexjob_industri: [\n                \"Teknologi Informasi\",\n                \"Perbankan\",\n                \"Healthcare\",\n                \"Pendidikan\",\n                \"E-commerce\",\n                \"Otomotif\",\n                \"Digital Marketing\",\n                \"Human Resources\",\n                \"Customer Service\",\n                \"Sales\",\n                \"Logistik\",\n                \"Akuntansi\"\n            ]\n        };\n    }\n    async testConnection() {\n        try {\n            const response = await fetch(`${this.baseUrl}/lowongan-kerja?per_page=1`, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data: data[0] || null\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    async testFiltersConnection() {\n        try {\n            const response = await fetch(this.filtersApiUrl, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    async getJobs(filters, page = 1, perPage = 24) {\n        try {\n            let url = `${this.baseUrl}/lowongan-kerja?per_page=${perPage}&page=${page}&_embed`;\n            // Add search parameter if provided\n            if (filters?.search) {\n                url += `&search=${encodeURIComponent(filters.search)}`;\n            }\n            const response = await fetch(url, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch jobs\");\n            }\n            const wpJobs = await response.json();\n            // Get total pages from headers\n            const totalPages = parseInt(response.headers.get(\"X-WP-TotalPages\") || \"1\");\n            const totalJobs = parseInt(response.headers.get(\"X-WP-Total\") || \"0\");\n            // Transform WordPress data to our Job interface\n            let jobs = wpJobs.map((wpJob)=>{\n                // Extract meta fields with nexjob_ prefix\n                const meta = wpJob.meta || {};\n                return {\n                    id: wpJob.id.toString(),\n                    slug: wpJob.slug,\n                    title: this.decodeHtmlEntities(wpJob.title.rendered),\n                    content: wpJob.content.rendered,\n                    company_name: this.decodeHtmlEntities(meta.nexjob_nama_perusahaan || \"Perusahaan\"),\n                    kategori_pekerjaan: this.decodeHtmlEntities(meta.nexjob_kategori_pekerjaan || \"\"),\n                    lokasi_provinsi: this.decodeHtmlEntities(meta.nexjob_lokasi_provinsi || \"\"),\n                    lokasi_kota: this.decodeHtmlEntities(meta.nexjob_lokasi_kota || \"\"),\n                    tipe_pekerjaan: this.decodeHtmlEntities(meta.nexjob_tipe_pekerjaan || \"Full Time\"),\n                    pendidikan: this.decodeHtmlEntities(meta.nexjob_pendidikan || \"\"),\n                    industry: this.decodeHtmlEntities(meta.nexjob_industri || \"\"),\n                    pengalaman: this.decodeHtmlEntities(meta.nexjob_pengalaman_kerja || \"\"),\n                    tag: this.decodeHtmlEntities(meta.nexjob_tag_loker || \"\"),\n                    gender: this.decodeHtmlEntities(meta.nexjob_gender || \"\"),\n                    gaji: this.decodeHtmlEntities(meta.nexjob_gaji || \"Negosiasi\"),\n                    kebijakan_kerja: this.decodeHtmlEntities(meta.nexjob_kebijakan_kerja || \"\"),\n                    link: meta.nexjob_link_loker || wpJob.link,\n                    sumber_lowongan: this.decodeHtmlEntities(meta.nexjob_sumber_loker || \"Nexjob\"),\n                    created_at: wpJob.date,\n                    seo_title: this.decodeHtmlEntities(meta.rank_math_title || wpJob.title.rendered),\n                    seo_description: this.getPreferredDescription(wpJob.excerpt?.rendered || \"\", meta.rank_math_description || \"\"),\n                    _id: {\n                        $oid: wpJob.id.toString()\n                    },\n                    id_obj: {\n                        $numberInt: wpJob.id.toString()\n                    }\n                };\n            });\n            // Apply client-side filtering for fields not supported by WordPress search\n            jobs = this.filterJobs(jobs, filters);\n            // Apply sorting\n            if (filters?.sortBy === \"newest\") {\n                jobs = jobs.sort((a, b)=>{\n                    const dateA = new Date(a.created_at || \"\").getTime();\n                    const dateB = new Date(b.created_at || \"\").getTime();\n                    return dateB - dateA; // Newest first\n                });\n            }\n            return {\n                jobs,\n                totalPages,\n                currentPage: page,\n                totalJobs,\n                hasMore: page < totalPages\n            };\n        } catch (error) {\n            console.error(\"Error fetching jobs:\", error);\n            // Return mock data as fallback\n            const mockJobs = this.getMockJobs(filters);\n            return {\n                jobs: mockJobs,\n                totalPages: 1,\n                currentPage: 1,\n                totalJobs: mockJobs.length,\n                hasMore: false\n            };\n        }\n    }\n    // Legacy method for backward compatibility\n    async getAllJobs(filters) {\n        const response = await this.getJobs(filters, 1, 100);\n        return response.jobs;\n    }\n    async getJobBySlug(slug) {\n        try {\n            const response = await fetch(`${this.baseUrl}/lowongan-kerja?slug=${slug}&_embed`, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Job not found\");\n            }\n            const wpJobs = await response.json();\n            if (!wpJobs || wpJobs.length === 0) {\n                return null;\n            }\n            const wpJob = wpJobs[0];\n            const meta = wpJob.meta || {};\n            return {\n                id: wpJob.id.toString(),\n                slug: wpJob.slug,\n                title: this.decodeHtmlEntities(wpJob.title.rendered),\n                content: wpJob.content.rendered,\n                company_name: this.decodeHtmlEntities(meta.nexjob_nama_perusahaan || \"Perusahaan\"),\n                kategori_pekerjaan: this.decodeHtmlEntities(meta.nexjob_kategori_pekerjaan || \"\"),\n                lokasi_provinsi: this.decodeHtmlEntities(meta.nexjob_lokasi_provinsi || \"\"),\n                lokasi_kota: this.decodeHtmlEntities(meta.nexjob_lokasi_kota || \"\"),\n                tipe_pekerjaan: this.decodeHtmlEntities(meta.nexjob_tipe_pekerjaan || \"Full Time\"),\n                pendidikan: this.decodeHtmlEntities(meta.nexjob_pendidikan || \"\"),\n                industry: this.decodeHtmlEntities(meta.nexjob_industri || \"\"),\n                pengalaman: this.decodeHtmlEntities(meta.nexjob_pengalaman_kerja || \"\"),\n                tag: this.decodeHtmlEntities(meta.nexjob_tag_loker || \"\"),\n                gender: this.decodeHtmlEntities(meta.nexjob_gender || \"\"),\n                gaji: this.decodeHtmlEntities(meta.nexjob_gaji || \"Negosiasi\"),\n                kebijakan_kerja: this.decodeHtmlEntities(meta.nexjob_kebijakan_kerja || \"\"),\n                link: meta.nexjob_link_loker || wpJob.link,\n                sumber_lowongan: this.decodeHtmlEntities(meta.nexjob_sumber_loker || \"Nexjob\"),\n                created_at: wpJob.date,\n                seo_title: this.decodeHtmlEntities(meta.rank_math_title || wpJob.title.rendered),\n                seo_description: this.getPreferredDescription(wpJob.excerpt?.rendered || \"\", meta.rank_math_description || \"\"),\n                _id: {\n                    $oid: wpJob.id.toString()\n                },\n                id_obj: {\n                    $numberInt: wpJob.id.toString()\n                }\n            };\n        } catch (error) {\n            console.error(\"Error fetching job:\", error);\n            return null;\n        }\n    }\n    async getJobById(id) {\n        try {\n            const response = await fetch(`${this.baseUrl}/lowongan-kerja/${id}?_embed`, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Job not found\");\n            }\n            const wpJob = await response.json();\n            const meta = wpJob.meta || {};\n            return {\n                id: wpJob.id.toString(),\n                slug: wpJob.slug,\n                title: this.decodeHtmlEntities(wpJob.title.rendered),\n                content: wpJob.content.rendered,\n                company_name: this.decodeHtmlEntities(meta.nexjob_nama_perusahaan || \"Perusahaan\"),\n                kategori_pekerjaan: this.decodeHtmlEntities(meta.nexjob_kategori_pekerjaan || \"\"),\n                lokasi_provinsi: this.decodeHtmlEntities(meta.nexjob_lokasi_provinsi || \"\"),\n                lokasi_kota: this.decodeHtmlEntities(meta.nexjob_lokasi_kota || \"\"),\n                tipe_pekerjaan: this.decodeHtmlEntities(meta.nexjob_tipe_pekerjaan || \"Full Time\"),\n                pendidikan: this.decodeHtmlEntities(meta.nexjob_pendidikan || \"\"),\n                industry: this.decodeHtmlEntities(meta.nexjob_industri || \"\"),\n                pengalaman: this.decodeHtmlEntities(meta.nexjob_pengalaman_kerja || \"\"),\n                tag: this.decodeHtmlEntities(meta.nexjob_tag_loker || \"\"),\n                gender: this.decodeHtmlEntities(meta.nexjob_gender || \"\"),\n                gaji: this.decodeHtmlEntities(meta.nexjob_gaji || \"Negosiasi\"),\n                kebijakan_kerja: this.decodeHtmlEntities(meta.nexjob_kebijakan_kerja || \"\"),\n                link: meta.nexjob_link_loker || wpJob.link,\n                sumber_lowongan: this.decodeHtmlEntities(meta.nexjob_sumber_loker || \"Nexjob\"),\n                created_at: wpJob.date,\n                seo_title: this.decodeHtmlEntities(meta.rank_math_title || wpJob.title.rendered),\n                seo_description: this.getPreferredDescription(wpJob.excerpt?.rendered || \"\", meta.rank_math_description || \"\"),\n                _id: {\n                    $oid: wpJob.id.toString()\n                },\n                id_obj: {\n                    $numberInt: wpJob.id.toString()\n                }\n            };\n        } catch (error) {\n            console.error(\"Error fetching job:\", error);\n            return null;\n        }\n    }\n    async getRelatedJobs(currentJobId, category, limit = 4) {\n        try {\n            const allJobs = await this.getAllJobs();\n            return allJobs.filter((job)=>job.id !== currentJobId && job.kategori_pekerjaan.toLowerCase().includes(category.toLowerCase())).slice(0, limit);\n        } catch (error) {\n            console.error(\"Error fetching related jobs:\", error);\n            return [];\n        }\n    }\n    async getArticles(limit) {\n        try {\n            let url = `${this.baseUrl}/posts?_embed`;\n            if (limit) {\n                url += `&per_page=${limit}`;\n            }\n            const response = await fetch(url, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch articles\");\n            }\n            const articles = await response.json();\n            // Add featured image URL and author info if available\n            return articles.map((article)=>({\n                    ...article,\n                    title: {\n                        ...article.title,\n                        rendered: this.decodeHtmlEntities(article.title.rendered)\n                    },\n                    excerpt: {\n                        ...article.excerpt,\n                        rendered: this.decodeHtmlEntities(article.excerpt.rendered)\n                    },\n                    featured_media_url: article._embedded?.[\"wp:featuredmedia\"]?.[0]?.source_url || null,\n                    author_info: article._embedded?.author?.[0] || null,\n                    categories_info: article._embedded?.[\"wp:term\"]?.[0]?.map((cat)=>({\n                            ...cat,\n                            name: this.decodeHtmlEntities(cat.name)\n                        })) || [],\n                    tags_info: article._embedded?.[\"wp:term\"]?.[1]?.map((tag)=>({\n                            ...tag,\n                            name: this.decodeHtmlEntities(tag.name)\n                        })) || [],\n                    seo_title: this.decodeHtmlEntities(article.meta?.rank_math_title || article.title.rendered),\n                    seo_description: this.getPreferredDescription(article.excerpt?.rendered || \"\", article.meta?.rank_math_description || \"\")\n                }));\n        } catch (error) {\n            console.error(\"Error fetching articles:\", error);\n            return [];\n        }\n    }\n    async getArticleBySlug(slug) {\n        try {\n            const response = await fetch(`${this.baseUrl}/posts?slug=${slug}&_embed`, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Article not found\");\n            }\n            const articles = await response.json();\n            if (!articles || articles.length === 0) {\n                return null;\n            }\n            const article = articles[0];\n            return {\n                ...article,\n                title: {\n                    ...article.title,\n                    rendered: this.decodeHtmlEntities(article.title.rendered)\n                },\n                excerpt: {\n                    ...article.excerpt,\n                    rendered: this.decodeHtmlEntities(article.excerpt.rendered)\n                },\n                featured_media_url: article._embedded?.[\"wp:featuredmedia\"]?.[0]?.source_url || null,\n                author_info: article._embedded?.author?.[0] || null,\n                categories_info: article._embedded?.[\"wp:term\"]?.[0]?.map((cat)=>({\n                        ...cat,\n                        name: this.decodeHtmlEntities(cat.name)\n                    })) || [],\n                tags_info: article._embedded?.[\"wp:term\"]?.[1]?.map((tag)=>({\n                        ...tag,\n                        name: this.decodeHtmlEntities(tag.name)\n                    })) || [],\n                seo_title: this.decodeHtmlEntities(article.meta?.rank_math_title || article.title.rendered),\n                seo_description: this.getPreferredDescription(article.excerpt?.rendered || \"\", article.meta?.rank_math_description || \"\")\n            };\n        } catch (error) {\n            console.error(\"Error fetching article:\", error);\n            return null;\n        }\n    }\n    async getArticleById(id) {\n        try {\n            const response = await fetch(`${this.baseUrl}/posts/${id}?_embed`, {\n                headers: this.getHeaders()\n            });\n            if (!response.ok) {\n                throw new Error(\"Article not found\");\n            }\n            const article = await response.json();\n            return {\n                ...article,\n                title: {\n                    ...article.title,\n                    rendered: this.decodeHtmlEntities(article.title.rendered)\n                },\n                excerpt: {\n                    ...article.excerpt,\n                    rendered: this.decodeHtmlEntities(article.excerpt.rendered)\n                },\n                featured_media_url: article._embedded?.[\"wp:featuredmedia\"]?.[0]?.source_url || null,\n                author_info: article._embedded?.author?.[0] || null,\n                categories_info: article._embedded?.[\"wp:term\"]?.[0]?.map((cat)=>({\n                        ...cat,\n                        name: this.decodeHtmlEntities(cat.name)\n                    })) || [],\n                tags_info: article._embedded?.[\"wp:term\"]?.[1]?.map((tag)=>({\n                        ...tag,\n                        name: this.decodeHtmlEntities(tag.name)\n                    })) || [],\n                seo_title: this.decodeHtmlEntities(article.meta?.rank_math_title || article.title.rendered),\n                seo_description: this.getPreferredDescription(article.excerpt?.rendered || \"\", article.meta?.rank_math_description || \"\")\n            };\n        } catch (error) {\n            console.error(\"Error fetching article:\", error);\n            return null;\n        }\n    }\n    async getRelatedArticles(currentArticleId, limit = 3) {\n        try {\n            const articles = await this.getArticles();\n            return articles.filter((article)=>article.id.toString() !== currentArticleId).slice(0, limit);\n        } catch (error) {\n            console.error(\"Error fetching related articles:\", error);\n            return [];\n        }\n    }\n    filterJobs(jobs, filters) {\n        if (!filters) return jobs;\n        return jobs.filter((job)=>{\n            // Location filter (province)\n            if (filters.location && !job.lokasi_provinsi.toLowerCase().includes(filters.location.toLowerCase())) {\n                return false;\n            }\n            // City filter (multiple selection)\n            if (filters.cities && filters.cities.length > 0) {\n                const jobCityMatch = filters.cities.some((city)=>job.lokasi_kota.toLowerCase().includes(city.toLowerCase()));\n                if (!jobCityMatch) return false;\n            }\n            // Job type filter (multiple selection)\n            if (filters.jobTypes && filters.jobTypes.length > 0) {\n                if (!filters.jobTypes.includes(job.tipe_pekerjaan)) {\n                    return false;\n                }\n            }\n            // Experience filter (multiple selection)\n            if (filters.experiences && filters.experiences.length > 0) {\n                const experienceMatch = filters.experiences.some((exp)=>job.pengalaman.toLowerCase().includes(exp.toLowerCase()));\n                if (!experienceMatch) return false;\n            }\n            // Education filter (multiple selection)\n            if (filters.educations && filters.educations.length > 0) {\n                if (!filters.educations.includes(job.pendidikan)) {\n                    return false;\n                }\n            }\n            // Industry filter (multiple selection)\n            if (filters.industries && filters.industries.length > 0) {\n                const industryMatch = filters.industries.some((industry)=>job.industry.toLowerCase().includes(industry.toLowerCase()));\n                if (!industryMatch) return false;\n            }\n            // Category filter (multiple selection)\n            if (filters.categories && filters.categories.length > 0) {\n                const categoryMatch = filters.categories.some((category)=>job.kategori_pekerjaan.toLowerCase().includes(category.toLowerCase()));\n                if (!categoryMatch) return false;\n            }\n            // Work policy filter (multiple selection)\n            if (filters.workPolicies && filters.workPolicies.length > 0) {\n                if (!filters.workPolicies.includes(job.kebijakan_kerja)) {\n                    return false;\n                }\n            }\n            // Legacy single filters for backward compatibility\n            if (filters.jobType && job.tipe_pekerjaan !== filters.jobType) {\n                return false;\n            }\n            if (filters.experience && !job.pengalaman.toLowerCase().includes(filters.experience.toLowerCase())) {\n                return false;\n            }\n            if (filters.education && job.pendidikan !== filters.education) {\n                return false;\n            }\n            if (filters.industry && !job.industry.toLowerCase().includes(filters.industry.toLowerCase())) {\n                return false;\n            }\n            if (filters.category && !job.kategori_pekerjaan.toLowerCase().includes(filters.category.toLowerCase())) {\n                return false;\n            }\n            if (filters.workPolicy && job.kebijakan_kerja !== filters.workPolicy) {\n                return false;\n            }\n            return true;\n        });\n    }\n    getMockJobs(filters) {\n        // Fallback mock data\n        const mockJobs = [\n            {\n                id: \"1\",\n                slug: \"frontend-developer-react-js\",\n                title: \"Frontend Developer React.js\",\n                content: \"<p>Kami mencari Frontend Developer yang berpengalaman dengan React.js</p>\",\n                company_name: \"PT. Teknologi Digital Indonesia\",\n                kategori_pekerjaan: \"Software Engineer\",\n                lokasi_provinsi: \"DKI Jakarta\",\n                lokasi_kota: \"Jakarta Selatan\",\n                tipe_pekerjaan: \"Full Time\",\n                pendidikan: \"S1\",\n                industry: \"Teknologi Informasi\",\n                pengalaman: \"2-4 Tahun\",\n                tag: \"React.js, Frontend Developer, JavaScript, TypeScript\",\n                gender: \"Laki-Laki atau Perempuan\",\n                gaji: \"Rp 8-12 Juta\",\n                kebijakan_kerja: \"Hybrid Working\",\n                link: \"#\",\n                sumber_lowongan: \"Nexjob\",\n                created_at: new Date().toISOString(),\n                seo_title: \"Frontend Developer React.js\",\n                seo_description: \"Lowongan Frontend Developer React.js di Jakarta\",\n                _id: {\n                    $oid: \"1\"\n                },\n                id_obj: {\n                    $numberInt: \"1\"\n                }\n            }\n        ];\n        return this.filterJobs(mockJobs, filters);\n    }\n    constructor(){\n        this.baseUrl = \"https://staging.nexjob.tech/wp-json/wp/v2\";\n        this.filtersApiUrl = \"https://staging.nexjob.tech/wp-json/nex/v1/filters-data\";\n        this.authToken = \"\";\n    }\n}\n// Export both the class and a singleton instance\n\nconst wpService = new WordPressService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2VydmljZXMvd3BTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBb0JBLE1BQU1BO0lBS0pDLFdBQVdDLEdBQVcsRUFBRTtRQUN0QixJQUFJLENBQUNDLE9BQU8sR0FBR0Q7SUFDakI7SUFFQUUsaUJBQWlCRixHQUFXLEVBQUU7UUFDNUIsSUFBSSxDQUFDRyxhQUFhLEdBQUdIO0lBQ3ZCO0lBRUFJLGFBQWFDLEtBQWEsRUFBRTtRQUMxQixJQUFJLENBQUNDLFNBQVMsR0FBR0Q7SUFDbkI7SUFFUUUsYUFBYTtRQUNuQixNQUFNQyxVQUFrQztZQUN0QyxnQkFBZ0I7UUFDbEI7UUFFQSxJQUFJLElBQUksQ0FBQ0YsU0FBUyxFQUFFO1lBQ2xCRSxPQUFPLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDRixTQUFTLENBQUMsQ0FBQztRQUN2RDtRQUVBLE9BQU9FO0lBQ1Q7SUFFUUMsbUJBQW1CQyxJQUFZLEVBQVU7UUFDL0MsSUFBSSxPQUFPQyxhQUFhLGFBQWE7WUFDbkMsdUJBQXVCO1lBQ3ZCLE9BQU9ELEtBQ0pFLE9BQU8sQ0FBQyxNQUFNLEtBQ2RBLE9BQU8sQ0FBQyxNQUFNLEtBQ2RBLE9BQU8sQ0FBQyxNQUFNLEtBQ2RBLE9BQU8sQ0FBQyxNQUFNLEtBQ2RBLE9BQU8sQ0FBQyxVQUFVO1FBQ3ZCO1FBRUEsTUFBTUMsV0FBV0YsU0FBU0csYUFBYSxDQUFDO1FBQ3hDRCxTQUFTRSxTQUFTLEdBQUdMO1FBQ3JCLE9BQU9HLFNBQVNHLEtBQUs7SUFDdkI7SUFFUUMsY0FBY0MsSUFBWSxFQUFVO1FBQzFDLElBQUksT0FBT1AsYUFBYSxhQUFhO1lBQ25DLHVCQUF1QjtZQUN2QixPQUFPTyxLQUFLTixPQUFPLENBQUMsWUFBWTtRQUNsQztRQUVBLE1BQU1PLE1BQU1SLFNBQVNHLGFBQWEsQ0FBQztRQUNuQ0ssSUFBSUosU0FBUyxHQUFHRztRQUNoQixPQUFPQyxJQUFJQyxXQUFXLElBQUlELElBQUlFLFNBQVMsSUFBSTtJQUM3QztJQUVRQyx3QkFBd0JDLGVBQXVCLEVBQUVDLG1CQUEyQixFQUFVO1FBQzVGLGdFQUFnRTtRQUNoRSxJQUFJQSx1QkFBdUJBLG9CQUFvQkMsSUFBSSxPQUFPLElBQUk7WUFDNUQsT0FBTyxJQUFJLENBQUNSLGFBQWEsQ0FBQyxJQUFJLENBQUNSLGtCQUFrQixDQUFDZTtRQUNwRDtRQUVBLG9DQUFvQztRQUNwQyxJQUFJRCxtQkFBbUJBLGdCQUFnQkUsSUFBSSxPQUFPLElBQUk7WUFDcEQsT0FBTyxJQUFJLENBQUNSLGFBQWEsQ0FBQyxJQUFJLENBQUNSLGtCQUFrQixDQUFDYztRQUNwRDtRQUVBLE9BQU87SUFDVDtJQUVBLE1BQU1HLGlCQUFzQztRQUMxQyxJQUFJO1lBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLElBQUksQ0FBQ3pCLGFBQWEsRUFBRTtnQkFDL0NLLFNBQVMsSUFBSSxDQUFDRCxVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDb0IsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFFQSxNQUFNQyxPQUFPLE1BQU1KLFNBQVNLLElBQUk7WUFFaEMsc0NBQXNDO1lBQ3RDLE1BQU1DLGNBQTBCO2dCQUM5QkMsd0JBQXdCLENBQUM7Z0JBQ3pCQywyQkFBMkIsRUFBRTtnQkFDN0JDLHVCQUF1QixFQUFFO2dCQUN6QkMseUJBQXlCLEVBQUU7Z0JBQzNCQyxtQkFBbUIsRUFBRTtnQkFDckJDLHdCQUF3QixFQUFFO2dCQUMxQkMsaUJBQWlCLEVBQUU7WUFDckI7WUFFQSx1QkFBdUI7WUFDdkIsSUFBSVQsS0FBS0csc0JBQXNCLEVBQUU7Z0JBQy9CTyxPQUFPQyxJQUFJLENBQUNYLEtBQUtHLHNCQUFzQixFQUFFUyxPQUFPLENBQUNDLENBQUFBO29CQUMvQyxNQUFNQyxrQkFBa0IsSUFBSSxDQUFDcEMsa0JBQWtCLENBQUNtQztvQkFDaERYLFlBQVlDLHNCQUFzQixDQUFDVyxnQkFBZ0IsR0FDakRkLEtBQUtHLHNCQUFzQixDQUFDVSxTQUFTLENBQUNFLEdBQUcsQ0FBQyxDQUFDQyxPQUFpQixJQUFJLENBQUN0QyxrQkFBa0IsQ0FBQ3NDO2dCQUN4RjtZQUNGO1lBRUEsNkJBQTZCO1lBQzdCLE1BQU1DLGFBQW1FO2dCQUN2RTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTthQUNEO1lBRURBLFdBQVdMLE9BQU8sQ0FBQ00sQ0FBQUE7Z0JBQ2pCLElBQUlsQixJQUFJLENBQUNrQixJQUFJLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ3BCLElBQUksQ0FBQ2tCLElBQUksR0FBRztvQkFDekNoQixXQUFXLENBQUNnQixJQUFJLEdBQUdsQixJQUFJLENBQUNrQixJQUFJLENBQUNILEdBQUcsQ0FBQyxDQUFDTSxPQUFpQixJQUFJLENBQUMzQyxrQkFBa0IsQ0FBQzJDO2dCQUM3RTtZQUNGO1lBRUEsT0FBT25CO1FBQ1QsRUFBRSxPQUFPb0IsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5Qyx1QkFBdUI7WUFDdkIsT0FBTyxJQUFJLENBQUNFLHNCQUFzQjtRQUNwQztJQUNGO0lBRVFBLHlCQUFxQztRQUMzQyxPQUFPO1lBQ0xyQix3QkFBd0I7Z0JBQ3RCLGVBQWU7b0JBQUM7b0JBQWlCO29CQUFtQjtvQkFBaUI7b0JBQWlCO2lCQUFnQjtnQkFDdEcsY0FBYztvQkFBQztvQkFBVztvQkFBVTtvQkFBUztvQkFBUztpQkFBWTtnQkFDbEUsY0FBYztvQkFBQztvQkFBWTtvQkFBVTtvQkFBVTtpQkFBVztnQkFDMUQsZUFBZTtvQkFBQztvQkFBWTtvQkFBUTtpQkFBYTtnQkFDakQsUUFBUTtvQkFBQztvQkFBWTtvQkFBUTtpQkFBUTtnQkFDckMsa0JBQWtCO29CQUFDO29CQUFTO2lCQUFTO1lBQ3ZDO1lBQ0FDLDJCQUEyQjtnQkFDekI7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtZQUNEQyx1QkFBdUI7Z0JBQ3JCO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDREMseUJBQXlCO2dCQUN2QjtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTthQUNEO1lBQ0RDLG1CQUFtQjtnQkFDakI7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtZQUNEQyx3QkFBd0I7Z0JBQ3RCO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDREMsaUJBQWlCO2dCQUNmO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7UUFDSDtJQUNGO0lBRUEsTUFBTWdCLGlCQUE0RTtRQUNoRixJQUFJO1lBQ0YsTUFBTTdCLFdBQVcsTUFBTUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDM0IsT0FBTyxDQUFDLDBCQUEwQixDQUFDLEVBQUU7Z0JBQ3hFTyxTQUFTLElBQUksQ0FBQ0QsVUFBVTtZQUMxQjtZQUVBLElBQUksQ0FBQ29CLFNBQVNFLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsS0FBSyxFQUFFSCxTQUFTOEIsTUFBTSxDQUFDLEVBQUUsRUFBRTlCLFNBQVMrQixVQUFVLENBQUMsQ0FBQztZQUNuRTtZQUVBLE1BQU0zQixPQUFPLE1BQU1KLFNBQVNLLElBQUk7WUFDaEMsT0FBTztnQkFBRTJCLFNBQVM7Z0JBQU01QixNQUFNQSxJQUFJLENBQUMsRUFBRSxJQUFJO1lBQUs7UUFDaEQsRUFBRSxPQUFPc0IsT0FBTztZQUNkLE9BQU87Z0JBQ0xNLFNBQVM7Z0JBQ1ROLE9BQU9BLGlCQUFpQnZCLFFBQVF1QixNQUFNTyxPQUFPLEdBQUc7WUFDbEQ7UUFDRjtJQUNGO0lBRUEsTUFBTUMsd0JBQW1GO1FBQ3ZGLElBQUk7WUFDRixNQUFNbEMsV0FBVyxNQUFNQyxNQUFNLElBQUksQ0FBQ3pCLGFBQWEsRUFBRTtnQkFDL0NLLFNBQVMsSUFBSSxDQUFDRCxVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDb0IsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxLQUFLLEVBQUVILFNBQVM4QixNQUFNLENBQUMsRUFBRSxFQUFFOUIsU0FBUytCLFVBQVUsQ0FBQyxDQUFDO1lBQ25FO1lBRUEsTUFBTTNCLE9BQU8sTUFBTUosU0FBU0ssSUFBSTtZQUNoQyxPQUFPO2dCQUFFMkIsU0FBUztnQkFBTTVCLE1BQU1BO1lBQUs7UUFDckMsRUFBRSxPQUFPc0IsT0FBTztZQUNkLE9BQU87Z0JBQ0xNLFNBQVM7Z0JBQ1ROLE9BQU9BLGlCQUFpQnZCLFFBQVF1QixNQUFNTyxPQUFPLEdBQUc7WUFDbEQ7UUFDRjtJQUNGO0lBRUEsTUFBTUUsUUFBUUMsT0FBYSxFQUFFQyxPQUFlLENBQUMsRUFBRUMsVUFBa0IsRUFBRSxFQUF5QjtRQUMxRixJQUFJO1lBQ0YsSUFBSWpFLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQ0MsT0FBTyxDQUFDLHlCQUF5QixFQUFFZ0UsUUFBUSxNQUFNLEVBQUVELEtBQUssT0FBTyxDQUFDO1lBRWxGLG1DQUFtQztZQUNuQyxJQUFJRCxTQUFTRyxRQUFRO2dCQUNuQmxFLE9BQU8sQ0FBQyxRQUFRLEVBQUVtRSxtQkFBbUJKLFFBQVFHLE1BQU0sRUFBRSxDQUFDO1lBQ3hEO1lBRUEsTUFBTXZDLFdBQVcsTUFBTUMsTUFBTTVCLEtBQUs7Z0JBQ2hDUSxTQUFTLElBQUksQ0FBQ0QsVUFBVTtZQUMxQjtZQUVBLElBQUksQ0FBQ29CLFNBQVNFLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxJQUFJQyxNQUFNO1lBQ2xCO1lBRUEsTUFBTXNDLFNBQVMsTUFBTXpDLFNBQVNLLElBQUk7WUFFbEMsK0JBQStCO1lBQy9CLE1BQU1xQyxhQUFhQyxTQUFTM0MsU0FBU25CLE9BQU8sQ0FBQytELEdBQUcsQ0FBQyxzQkFBc0I7WUFDdkUsTUFBTUMsWUFBWUYsU0FBUzNDLFNBQVNuQixPQUFPLENBQUMrRCxHQUFHLENBQUMsaUJBQWlCO1lBRWpFLGdEQUFnRDtZQUNoRCxJQUFJRSxPQUFjTCxPQUFPdEIsR0FBRyxDQUFDLENBQUM0QjtnQkFDNUIsMENBQTBDO2dCQUMxQyxNQUFNQyxPQUFPRCxNQUFNQyxJQUFJLElBQUksQ0FBQztnQkFFNUIsT0FBTztvQkFDTEMsSUFBSUYsTUFBTUUsRUFBRSxDQUFDQyxRQUFRO29CQUNyQkMsTUFBTUosTUFBTUksSUFBSTtvQkFDaEJDLE9BQU8sSUFBSSxDQUFDdEUsa0JBQWtCLENBQUNpRSxNQUFNSyxLQUFLLENBQUNDLFFBQVE7b0JBQ25EQyxTQUFTUCxNQUFNTyxPQUFPLENBQUNELFFBQVE7b0JBQy9CRSxjQUFjLElBQUksQ0FBQ3pFLGtCQUFrQixDQUFDa0UsS0FBS1Esc0JBQXNCLElBQUk7b0JBQ3JFQyxvQkFBb0IsSUFBSSxDQUFDM0Usa0JBQWtCLENBQUNrRSxLQUFLeEMseUJBQXlCLElBQUk7b0JBQzlFa0QsaUJBQWlCLElBQUksQ0FBQzVFLGtCQUFrQixDQUFDa0UsS0FBS3pDLHNCQUFzQixJQUFJO29CQUN4RW9ELGFBQWEsSUFBSSxDQUFDN0Usa0JBQWtCLENBQUNrRSxLQUFLWSxrQkFBa0IsSUFBSTtvQkFDaEVDLGdCQUFnQixJQUFJLENBQUMvRSxrQkFBa0IsQ0FBQ2tFLEtBQUt2QyxxQkFBcUIsSUFBSTtvQkFDdEVxRCxZQUFZLElBQUksQ0FBQ2hGLGtCQUFrQixDQUFDa0UsS0FBS3JDLGlCQUFpQixJQUFJO29CQUM5RG9ELFVBQVUsSUFBSSxDQUFDakYsa0JBQWtCLENBQUNrRSxLQUFLbkMsZUFBZSxJQUFJO29CQUMxRG1ELFlBQVksSUFBSSxDQUFDbEYsa0JBQWtCLENBQUNrRSxLQUFLdEMsdUJBQXVCLElBQUk7b0JBQ3BFdUQsS0FBSyxJQUFJLENBQUNuRixrQkFBa0IsQ0FBQ2tFLEtBQUtrQixnQkFBZ0IsSUFBSTtvQkFDdERDLFFBQVEsSUFBSSxDQUFDckYsa0JBQWtCLENBQUNrRSxLQUFLb0IsYUFBYSxJQUFJO29CQUN0REMsTUFBTSxJQUFJLENBQUN2RixrQkFBa0IsQ0FBQ2tFLEtBQUtzQixXQUFXLElBQUk7b0JBQ2xEQyxpQkFBaUIsSUFBSSxDQUFDekYsa0JBQWtCLENBQUNrRSxLQUFLcEMsc0JBQXNCLElBQUk7b0JBQ3hFNEQsTUFBTXhCLEtBQUt5QixpQkFBaUIsSUFBSTFCLE1BQU15QixJQUFJO29CQUMxQ0UsaUJBQWlCLElBQUksQ0FBQzVGLGtCQUFrQixDQUFDa0UsS0FBSzJCLG1CQUFtQixJQUFJO29CQUNyRUMsWUFBWTdCLE1BQU04QixJQUFJO29CQUN0QkMsV0FBVyxJQUFJLENBQUNoRyxrQkFBa0IsQ0FBQ2tFLEtBQUsrQixlQUFlLElBQUloQyxNQUFNSyxLQUFLLENBQUNDLFFBQVE7b0JBQy9FMkIsaUJBQWlCLElBQUksQ0FBQ3JGLHVCQUF1QixDQUFDb0QsTUFBTWtDLE9BQU8sRUFBRTVCLFlBQVksSUFBSUwsS0FBS2tDLHFCQUFxQixJQUFJO29CQUMzR0MsS0FBSzt3QkFBRUMsTUFBTXJDLE1BQU1FLEVBQUUsQ0FBQ0MsUUFBUTtvQkFBRztvQkFDakNtQyxRQUFRO3dCQUFFQyxZQUFZdkMsTUFBTUUsRUFBRSxDQUFDQyxRQUFRO29CQUFHO2dCQUM1QztZQUNGO1lBRUEsMkVBQTJFO1lBQzNFSixPQUFPLElBQUksQ0FBQ3lDLFVBQVUsQ0FBQ3pDLE1BQU1WO1lBRTdCLGdCQUFnQjtZQUNoQixJQUFJQSxTQUFTb0QsV0FBVyxVQUFVO2dCQUNoQzFDLE9BQU9BLEtBQUsyQyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0M7b0JBQ25CLE1BQU1DLFFBQVEsSUFBSUMsS0FBS0gsRUFBRWQsVUFBVSxJQUFJLElBQUlrQixPQUFPO29CQUNsRCxNQUFNQyxRQUFRLElBQUlGLEtBQUtGLEVBQUVmLFVBQVUsSUFBSSxJQUFJa0IsT0FBTztvQkFDbEQsT0FBT0MsUUFBUUgsT0FBTyxlQUFlO2dCQUN2QztZQUNGO1lBRUEsT0FBTztnQkFDTDlDO2dCQUNBSjtnQkFDQXNELGFBQWEzRDtnQkFDYlE7Z0JBQ0FvRCxTQUFTNUQsT0FBT0s7WUFDbEI7UUFDRixFQUFFLE9BQU9oQixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1lBQ3RDLCtCQUErQjtZQUMvQixNQUFNd0UsV0FBVyxJQUFJLENBQUNDLFdBQVcsQ0FBQy9EO1lBQ2xDLE9BQU87Z0JBQ0xVLE1BQU1vRDtnQkFDTnhELFlBQVk7Z0JBQ1pzRCxhQUFhO2dCQUNibkQsV0FBV3FELFNBQVNFLE1BQU07Z0JBQzFCSCxTQUFTO1lBQ1g7UUFDRjtJQUNGO0lBRUEsMkNBQTJDO0lBQzNDLE1BQU1JLFdBQVdqRSxPQUFhLEVBQWtCO1FBQzlDLE1BQU1wQyxXQUFXLE1BQU0sSUFBSSxDQUFDbUMsT0FBTyxDQUFDQyxTQUFTLEdBQUc7UUFDaEQsT0FBT3BDLFNBQVM4QyxJQUFJO0lBQ3RCO0lBRUEsTUFBTXdELGFBQWFuRCxJQUFZLEVBQXVCO1FBQ3BELElBQUk7WUFDRixNQUFNbkQsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMzQixPQUFPLENBQUMscUJBQXFCLEVBQUU2RSxLQUFLLE9BQU8sQ0FBQyxFQUFFO2dCQUNqRnRFLFNBQVMsSUFBSSxDQUFDRCxVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDb0IsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFFQSxNQUFNc0MsU0FBUyxNQUFNekMsU0FBU0ssSUFBSTtZQUNsQyxJQUFJLENBQUNvQyxVQUFVQSxPQUFPMkQsTUFBTSxLQUFLLEdBQUc7Z0JBQ2xDLE9BQU87WUFDVDtZQUVBLE1BQU1yRCxRQUFRTixNQUFNLENBQUMsRUFBRTtZQUN2QixNQUFNTyxPQUFPRCxNQUFNQyxJQUFJLElBQUksQ0FBQztZQUU1QixPQUFPO2dCQUNMQyxJQUFJRixNQUFNRSxFQUFFLENBQUNDLFFBQVE7Z0JBQ3JCQyxNQUFNSixNQUFNSSxJQUFJO2dCQUNoQkMsT0FBTyxJQUFJLENBQUN0RSxrQkFBa0IsQ0FBQ2lFLE1BQU1LLEtBQUssQ0FBQ0MsUUFBUTtnQkFDbkRDLFNBQVNQLE1BQU1PLE9BQU8sQ0FBQ0QsUUFBUTtnQkFDL0JFLGNBQWMsSUFBSSxDQUFDekUsa0JBQWtCLENBQUNrRSxLQUFLUSxzQkFBc0IsSUFBSTtnQkFDckVDLG9CQUFvQixJQUFJLENBQUMzRSxrQkFBa0IsQ0FBQ2tFLEtBQUt4Qyx5QkFBeUIsSUFBSTtnQkFDOUVrRCxpQkFBaUIsSUFBSSxDQUFDNUUsa0JBQWtCLENBQUNrRSxLQUFLekMsc0JBQXNCLElBQUk7Z0JBQ3hFb0QsYUFBYSxJQUFJLENBQUM3RSxrQkFBa0IsQ0FBQ2tFLEtBQUtZLGtCQUFrQixJQUFJO2dCQUNoRUMsZ0JBQWdCLElBQUksQ0FBQy9FLGtCQUFrQixDQUFDa0UsS0FBS3ZDLHFCQUFxQixJQUFJO2dCQUN0RXFELFlBQVksSUFBSSxDQUFDaEYsa0JBQWtCLENBQUNrRSxLQUFLckMsaUJBQWlCLElBQUk7Z0JBQzlEb0QsVUFBVSxJQUFJLENBQUNqRixrQkFBa0IsQ0FBQ2tFLEtBQUtuQyxlQUFlLElBQUk7Z0JBQzFEbUQsWUFBWSxJQUFJLENBQUNsRixrQkFBa0IsQ0FBQ2tFLEtBQUt0Qyx1QkFBdUIsSUFBSTtnQkFDcEV1RCxLQUFLLElBQUksQ0FBQ25GLGtCQUFrQixDQUFDa0UsS0FBS2tCLGdCQUFnQixJQUFJO2dCQUN0REMsUUFBUSxJQUFJLENBQUNyRixrQkFBa0IsQ0FBQ2tFLEtBQUtvQixhQUFhLElBQUk7Z0JBQ3REQyxNQUFNLElBQUksQ0FBQ3ZGLGtCQUFrQixDQUFDa0UsS0FBS3NCLFdBQVcsSUFBSTtnQkFDbERDLGlCQUFpQixJQUFJLENBQUN6RixrQkFBa0IsQ0FBQ2tFLEtBQUtwQyxzQkFBc0IsSUFBSTtnQkFDeEU0RCxNQUFNeEIsS0FBS3lCLGlCQUFpQixJQUFJMUIsTUFBTXlCLElBQUk7Z0JBQzFDRSxpQkFBaUIsSUFBSSxDQUFDNUYsa0JBQWtCLENBQUNrRSxLQUFLMkIsbUJBQW1CLElBQUk7Z0JBQ3JFQyxZQUFZN0IsTUFBTThCLElBQUk7Z0JBQ3RCQyxXQUFXLElBQUksQ0FBQ2hHLGtCQUFrQixDQUFDa0UsS0FBSytCLGVBQWUsSUFBSWhDLE1BQU1LLEtBQUssQ0FBQ0MsUUFBUTtnQkFDL0UyQixpQkFBaUIsSUFBSSxDQUFDckYsdUJBQXVCLENBQUNvRCxNQUFNa0MsT0FBTyxFQUFFNUIsWUFBWSxJQUFJTCxLQUFLa0MscUJBQXFCLElBQUk7Z0JBQzNHQyxLQUFLO29CQUFFQyxNQUFNckMsTUFBTUUsRUFBRSxDQUFDQyxRQUFRO2dCQUFHO2dCQUNqQ21DLFFBQVE7b0JBQUVDLFlBQVl2QyxNQUFNRSxFQUFFLENBQUNDLFFBQVE7Z0JBQUc7WUFDNUM7UUFDRixFQUFFLE9BQU94QixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx1QkFBdUJBO1lBQ3JDLE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTTZFLFdBQVd0RCxFQUFVLEVBQXVCO1FBQ2hELElBQUk7WUFDRixNQUFNakQsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMzQixPQUFPLENBQUMsZ0JBQWdCLEVBQUUyRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO2dCQUMxRXBFLFNBQVMsSUFBSSxDQUFDRCxVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDb0IsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFFQSxNQUFNNEMsUUFBUSxNQUFNL0MsU0FBU0ssSUFBSTtZQUNqQyxNQUFNMkMsT0FBT0QsTUFBTUMsSUFBSSxJQUFJLENBQUM7WUFFNUIsT0FBTztnQkFDTEMsSUFBSUYsTUFBTUUsRUFBRSxDQUFDQyxRQUFRO2dCQUNyQkMsTUFBTUosTUFBTUksSUFBSTtnQkFDaEJDLE9BQU8sSUFBSSxDQUFDdEUsa0JBQWtCLENBQUNpRSxNQUFNSyxLQUFLLENBQUNDLFFBQVE7Z0JBQ25EQyxTQUFTUCxNQUFNTyxPQUFPLENBQUNELFFBQVE7Z0JBQy9CRSxjQUFjLElBQUksQ0FBQ3pFLGtCQUFrQixDQUFDa0UsS0FBS1Esc0JBQXNCLElBQUk7Z0JBQ3JFQyxvQkFBb0IsSUFBSSxDQUFDM0Usa0JBQWtCLENBQUNrRSxLQUFLeEMseUJBQXlCLElBQUk7Z0JBQzlFa0QsaUJBQWlCLElBQUksQ0FBQzVFLGtCQUFrQixDQUFDa0UsS0FBS3pDLHNCQUFzQixJQUFJO2dCQUN4RW9ELGFBQWEsSUFBSSxDQUFDN0Usa0JBQWtCLENBQUNrRSxLQUFLWSxrQkFBa0IsSUFBSTtnQkFDaEVDLGdCQUFnQixJQUFJLENBQUMvRSxrQkFBa0IsQ0FBQ2tFLEtBQUt2QyxxQkFBcUIsSUFBSTtnQkFDdEVxRCxZQUFZLElBQUksQ0FBQ2hGLGtCQUFrQixDQUFDa0UsS0FBS3JDLGlCQUFpQixJQUFJO2dCQUM5RG9ELFVBQVUsSUFBSSxDQUFDakYsa0JBQWtCLENBQUNrRSxLQUFLbkMsZUFBZSxJQUFJO2dCQUMxRG1ELFlBQVksSUFBSSxDQUFDbEYsa0JBQWtCLENBQUNrRSxLQUFLdEMsdUJBQXVCLElBQUk7Z0JBQ3BFdUQsS0FBSyxJQUFJLENBQUNuRixrQkFBa0IsQ0FBQ2tFLEtBQUtrQixnQkFBZ0IsSUFBSTtnQkFDdERDLFFBQVEsSUFBSSxDQUFDckYsa0JBQWtCLENBQUNrRSxLQUFLb0IsYUFBYSxJQUFJO2dCQUN0REMsTUFBTSxJQUFJLENBQUN2RixrQkFBa0IsQ0FBQ2tFLEtBQUtzQixXQUFXLElBQUk7Z0JBQ2xEQyxpQkFBaUIsSUFBSSxDQUFDekYsa0JBQWtCLENBQUNrRSxLQUFLcEMsc0JBQXNCLElBQUk7Z0JBQ3hFNEQsTUFBTXhCLEtBQUt5QixpQkFBaUIsSUFBSTFCLE1BQU15QixJQUFJO2dCQUMxQ0UsaUJBQWlCLElBQUksQ0FBQzVGLGtCQUFrQixDQUFDa0UsS0FBSzJCLG1CQUFtQixJQUFJO2dCQUNyRUMsWUFBWTdCLE1BQU04QixJQUFJO2dCQUN0QkMsV0FBVyxJQUFJLENBQUNoRyxrQkFBa0IsQ0FBQ2tFLEtBQUsrQixlQUFlLElBQUloQyxNQUFNSyxLQUFLLENBQUNDLFFBQVE7Z0JBQy9FMkIsaUJBQWlCLElBQUksQ0FBQ3JGLHVCQUF1QixDQUFDb0QsTUFBTWtDLE9BQU8sRUFBRTVCLFlBQVksSUFBSUwsS0FBS2tDLHFCQUFxQixJQUFJO2dCQUMzR0MsS0FBSztvQkFBRUMsTUFBTXJDLE1BQU1FLEVBQUUsQ0FBQ0MsUUFBUTtnQkFBRztnQkFDakNtQyxRQUFRO29CQUFFQyxZQUFZdkMsTUFBTUUsRUFBRSxDQUFDQyxRQUFRO2dCQUFHO1lBQzVDO1FBQ0YsRUFBRSxPQUFPeEIsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsdUJBQXVCQTtZQUNyQyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU04RSxlQUFlQyxZQUFvQixFQUFFQyxRQUFnQixFQUFFQyxRQUFnQixDQUFDLEVBQWtCO1FBQzlGLElBQUk7WUFDRixNQUFNQyxVQUFVLE1BQU0sSUFBSSxDQUFDUCxVQUFVO1lBQ3JDLE9BQU9PLFFBQ0pDLE1BQU0sQ0FBQ0MsQ0FBQUEsTUFBT0EsSUFBSTdELEVBQUUsS0FBS3dELGdCQUFnQkssSUFBSXJELGtCQUFrQixDQUFDc0QsV0FBVyxHQUFHQyxRQUFRLENBQUNOLFNBQVNLLFdBQVcsS0FDM0dFLEtBQUssQ0FBQyxHQUFHTjtRQUNkLEVBQUUsT0FBT2pGLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7WUFDOUMsT0FBTyxFQUFFO1FBQ1g7SUFDRjtJQUVBLE1BQU13RixZQUFZUCxLQUFjLEVBQWtCO1FBQ2hELElBQUk7WUFDRixJQUFJdEksTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDQyxPQUFPLENBQUMsYUFBYSxDQUFDO1lBQ3hDLElBQUlxSSxPQUFPO2dCQUNUdEksT0FBTyxDQUFDLFVBQVUsRUFBRXNJLE1BQU0sQ0FBQztZQUM3QjtZQUVBLE1BQU0zRyxXQUFXLE1BQU1DLE1BQU01QixLQUFLO2dCQUNoQ1EsU0FBUyxJQUFJLENBQUNELFVBQVU7WUFDMUI7WUFFQSxJQUFJLENBQUNvQixTQUFTRSxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBLE1BQU1nSCxXQUFXLE1BQU1uSCxTQUFTSyxJQUFJO1lBRXBDLHNEQUFzRDtZQUN0RCxPQUFPOEcsU0FBU2hHLEdBQUcsQ0FBQyxDQUFDaUcsVUFBa0I7b0JBQ3JDLEdBQUdBLE9BQU87b0JBQ1ZoRSxPQUFPO3dCQUNMLEdBQUdnRSxRQUFRaEUsS0FBSzt3QkFDaEJDLFVBQVUsSUFBSSxDQUFDdkUsa0JBQWtCLENBQUNzSSxRQUFRaEUsS0FBSyxDQUFDQyxRQUFRO29CQUMxRDtvQkFDQTRCLFNBQVM7d0JBQ1AsR0FBR21DLFFBQVFuQyxPQUFPO3dCQUNsQjVCLFVBQVUsSUFBSSxDQUFDdkUsa0JBQWtCLENBQUNzSSxRQUFRbkMsT0FBTyxDQUFDNUIsUUFBUTtvQkFDNUQ7b0JBQ0FnRSxvQkFBb0JELFFBQVFFLFNBQVMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLENBQUMsRUFBRSxFQUFFQyxjQUFjO29CQUNoRkMsYUFBYUosUUFBUUUsU0FBUyxFQUFFRyxRQUFRLENBQUMsRUFBRSxJQUFJO29CQUMvQ0MsaUJBQWlCTixRQUFRRSxTQUFTLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUVuRyxJQUFJLENBQUN3RyxNQUFjOzRCQUN2RSxHQUFHQSxHQUFHOzRCQUNOQyxNQUFNLElBQUksQ0FBQzlJLGtCQUFrQixDQUFDNkksSUFBSUMsSUFBSTt3QkFDeEMsT0FBTyxFQUFFO29CQUNUQyxXQUFXVCxRQUFRRSxTQUFTLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUVuRyxJQUFJLENBQUM4QyxNQUFjOzRCQUNqRSxHQUFHQSxHQUFHOzRCQUNOMkQsTUFBTSxJQUFJLENBQUM5SSxrQkFBa0IsQ0FBQ21GLElBQUkyRCxJQUFJO3dCQUN4QyxPQUFPLEVBQUU7b0JBQ1Q5QyxXQUFXLElBQUksQ0FBQ2hHLGtCQUFrQixDQUFDc0ksUUFBUXBFLElBQUksRUFBRStCLG1CQUFtQnFDLFFBQVFoRSxLQUFLLENBQUNDLFFBQVE7b0JBQzFGMkIsaUJBQWlCLElBQUksQ0FBQ3JGLHVCQUF1QixDQUFDeUgsUUFBUW5DLE9BQU8sRUFBRTVCLFlBQVksSUFBSStELFFBQVFwRSxJQUFJLEVBQUVrQyx5QkFBeUI7Z0JBQ3hIO1FBQ0YsRUFBRSxPQUFPeEQsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxPQUFPLEVBQUU7UUFDWDtJQUNGO0lBRUEsTUFBTW9HLGlCQUFpQjNFLElBQVksRUFBdUI7UUFDeEQsSUFBSTtZQUNGLE1BQU1uRCxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQzNCLE9BQU8sQ0FBQyxZQUFZLEVBQUU2RSxLQUFLLE9BQU8sQ0FBQyxFQUFFO2dCQUN4RXRFLFNBQVMsSUFBSSxDQUFDRCxVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDb0IsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFFQSxNQUFNZ0gsV0FBVyxNQUFNbkgsU0FBU0ssSUFBSTtZQUNwQyxJQUFJLENBQUM4RyxZQUFZQSxTQUFTZixNQUFNLEtBQUssR0FBRztnQkFDdEMsT0FBTztZQUNUO1lBRUEsTUFBTWdCLFVBQVVELFFBQVEsQ0FBQyxFQUFFO1lBQzNCLE9BQU87Z0JBQ0wsR0FBR0MsT0FBTztnQkFDVmhFLE9BQU87b0JBQ0wsR0FBR2dFLFFBQVFoRSxLQUFLO29CQUNoQkMsVUFBVSxJQUFJLENBQUN2RSxrQkFBa0IsQ0FBQ3NJLFFBQVFoRSxLQUFLLENBQUNDLFFBQVE7Z0JBQzFEO2dCQUNBNEIsU0FBUztvQkFDUCxHQUFHbUMsUUFBUW5DLE9BQU87b0JBQ2xCNUIsVUFBVSxJQUFJLENBQUN2RSxrQkFBa0IsQ0FBQ3NJLFFBQVFuQyxPQUFPLENBQUM1QixRQUFRO2dCQUM1RDtnQkFDQWdFLG9CQUFvQkQsUUFBUUUsU0FBUyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxFQUFFLEVBQUVDLGNBQWM7Z0JBQ2hGQyxhQUFhSixRQUFRRSxTQUFTLEVBQUVHLFFBQVEsQ0FBQyxFQUFFLElBQUk7Z0JBQy9DQyxpQkFBaUJOLFFBQVFFLFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRW5HLElBQUksQ0FBQ3dHLE1BQWM7d0JBQ3ZFLEdBQUdBLEdBQUc7d0JBQ05DLE1BQU0sSUFBSSxDQUFDOUksa0JBQWtCLENBQUM2SSxJQUFJQyxJQUFJO29CQUN4QyxPQUFPLEVBQUU7Z0JBQ1RDLFdBQVdULFFBQVFFLFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRW5HLElBQUksQ0FBQzhDLE1BQWM7d0JBQ2pFLEdBQUdBLEdBQUc7d0JBQ04yRCxNQUFNLElBQUksQ0FBQzlJLGtCQUFrQixDQUFDbUYsSUFBSTJELElBQUk7b0JBQ3hDLE9BQU8sRUFBRTtnQkFDVDlDLFdBQVcsSUFBSSxDQUFDaEcsa0JBQWtCLENBQUNzSSxRQUFRcEUsSUFBSSxFQUFFK0IsbUJBQW1CcUMsUUFBUWhFLEtBQUssQ0FBQ0MsUUFBUTtnQkFDMUYyQixpQkFBaUIsSUFBSSxDQUFDckYsdUJBQXVCLENBQUN5SCxRQUFRbkMsT0FBTyxFQUFFNUIsWUFBWSxJQUFJK0QsUUFBUXBFLElBQUksRUFBRWtDLHlCQUF5QjtZQUN4SDtRQUNGLEVBQUUsT0FBT3hELE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekMsT0FBTztRQUNUO0lBQ0Y7SUFFQSxNQUFNcUcsZUFBZTlFLEVBQVUsRUFBdUI7UUFDcEQsSUFBSTtZQUNGLE1BQU1qRCxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQzNCLE9BQU8sQ0FBQyxPQUFPLEVBQUUyRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO2dCQUNqRXBFLFNBQVMsSUFBSSxDQUFDRCxVQUFVO1lBQzFCO1lBRUEsSUFBSSxDQUFDb0IsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFFQSxNQUFNaUgsVUFBVSxNQUFNcEgsU0FBU0ssSUFBSTtZQUNuQyxPQUFPO2dCQUNMLEdBQUcrRyxPQUFPO2dCQUNWaEUsT0FBTztvQkFDTCxHQUFHZ0UsUUFBUWhFLEtBQUs7b0JBQ2hCQyxVQUFVLElBQUksQ0FBQ3ZFLGtCQUFrQixDQUFDc0ksUUFBUWhFLEtBQUssQ0FBQ0MsUUFBUTtnQkFDMUQ7Z0JBQ0E0QixTQUFTO29CQUNQLEdBQUdtQyxRQUFRbkMsT0FBTztvQkFDbEI1QixVQUFVLElBQUksQ0FBQ3ZFLGtCQUFrQixDQUFDc0ksUUFBUW5DLE9BQU8sQ0FBQzVCLFFBQVE7Z0JBQzVEO2dCQUNBZ0Usb0JBQW9CRCxRQUFRRSxTQUFTLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLEVBQUUsRUFBRUMsY0FBYztnQkFDaEZDLGFBQWFKLFFBQVFFLFNBQVMsRUFBRUcsUUFBUSxDQUFDLEVBQUUsSUFBSTtnQkFDL0NDLGlCQUFpQk4sUUFBUUUsU0FBUyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFbkcsSUFBSSxDQUFDd0csTUFBYzt3QkFDdkUsR0FBR0EsR0FBRzt3QkFDTkMsTUFBTSxJQUFJLENBQUM5SSxrQkFBa0IsQ0FBQzZJLElBQUlDLElBQUk7b0JBQ3hDLE9BQU8sRUFBRTtnQkFDVEMsV0FBV1QsUUFBUUUsU0FBUyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFbkcsSUFBSSxDQUFDOEMsTUFBYzt3QkFDakUsR0FBR0EsR0FBRzt3QkFDTjJELE1BQU0sSUFBSSxDQUFDOUksa0JBQWtCLENBQUNtRixJQUFJMkQsSUFBSTtvQkFDeEMsT0FBTyxFQUFFO2dCQUNUOUMsV0FBVyxJQUFJLENBQUNoRyxrQkFBa0IsQ0FBQ3NJLFFBQVFwRSxJQUFJLEVBQUUrQixtQkFBbUJxQyxRQUFRaEUsS0FBSyxDQUFDQyxRQUFRO2dCQUMxRjJCLGlCQUFpQixJQUFJLENBQUNyRix1QkFBdUIsQ0FBQ3lILFFBQVFuQyxPQUFPLEVBQUU1QixZQUFZLElBQUkrRCxRQUFRcEUsSUFBSSxFQUFFa0MseUJBQXlCO1lBQ3hIO1FBQ0YsRUFBRSxPQUFPeEQsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtZQUN6QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU1zRyxtQkFBbUJDLGdCQUF3QixFQUFFdEIsUUFBZ0IsQ0FBQyxFQUFrQjtRQUNwRixJQUFJO1lBQ0YsTUFBTVEsV0FBVyxNQUFNLElBQUksQ0FBQ0QsV0FBVztZQUN2QyxPQUFPQyxTQUNKTixNQUFNLENBQUNPLENBQUFBLFVBQVdBLFFBQVFuRSxFQUFFLENBQUNDLFFBQVEsT0FBTytFLGtCQUM1Q2hCLEtBQUssQ0FBQyxHQUFHTjtRQUNkLEVBQUUsT0FBT2pGLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLG9DQUFvQ0E7WUFDbEQsT0FBTyxFQUFFO1FBQ1g7SUFDRjtJQUVRNkQsV0FBV3pDLElBQVcsRUFBRVYsT0FBYSxFQUFTO1FBQ3BELElBQUksQ0FBQ0EsU0FBUyxPQUFPVTtRQUVyQixPQUFPQSxLQUFLK0QsTUFBTSxDQUFDQyxDQUFBQTtZQUNqQiw2QkFBNkI7WUFDN0IsSUFBSTFFLFFBQVE4RixRQUFRLElBQUksQ0FBQ3BCLElBQUlwRCxlQUFlLENBQUNxRCxXQUFXLEdBQUdDLFFBQVEsQ0FBQzVFLFFBQVE4RixRQUFRLENBQUNuQixXQUFXLEtBQUs7Z0JBQ25HLE9BQU87WUFDVDtZQUVBLG1DQUFtQztZQUNuQyxJQUFJM0UsUUFBUStGLE1BQU0sSUFBSS9GLFFBQVErRixNQUFNLENBQUMvQixNQUFNLEdBQUcsR0FBRztnQkFDL0MsTUFBTWdDLGVBQWVoRyxRQUFRK0YsTUFBTSxDQUFDRSxJQUFJLENBQUMsQ0FBQ2pILE9BQ3hDMEYsSUFBSW5ELFdBQVcsQ0FBQ29ELFdBQVcsR0FBR0MsUUFBUSxDQUFDNUYsS0FBSzJGLFdBQVc7Z0JBRXpELElBQUksQ0FBQ3FCLGNBQWMsT0FBTztZQUM1QjtZQUVBLHVDQUF1QztZQUN2QyxJQUFJaEcsUUFBUWtHLFFBQVEsSUFBSWxHLFFBQVFrRyxRQUFRLENBQUNsQyxNQUFNLEdBQUcsR0FBRztnQkFDbkQsSUFBSSxDQUFDaEUsUUFBUWtHLFFBQVEsQ0FBQ3RCLFFBQVEsQ0FBQ0YsSUFBSWpELGNBQWMsR0FBRztvQkFDbEQsT0FBTztnQkFDVDtZQUNGO1lBRUEseUNBQXlDO1lBQ3pDLElBQUl6QixRQUFRbUcsV0FBVyxJQUFJbkcsUUFBUW1HLFdBQVcsQ0FBQ25DLE1BQU0sR0FBRyxHQUFHO2dCQUN6RCxNQUFNb0Msa0JBQWtCcEcsUUFBUW1HLFdBQVcsQ0FBQ0YsSUFBSSxDQUFDLENBQUNJLE1BQ2hEM0IsSUFBSTlDLFVBQVUsQ0FBQytDLFdBQVcsR0FBR0MsUUFBUSxDQUFDeUIsSUFBSTFCLFdBQVc7Z0JBRXZELElBQUksQ0FBQ3lCLGlCQUFpQixPQUFPO1lBQy9CO1lBRUEsd0NBQXdDO1lBQ3hDLElBQUlwRyxRQUFRc0csVUFBVSxJQUFJdEcsUUFBUXNHLFVBQVUsQ0FBQ3RDLE1BQU0sR0FBRyxHQUFHO2dCQUN2RCxJQUFJLENBQUNoRSxRQUFRc0csVUFBVSxDQUFDMUIsUUFBUSxDQUFDRixJQUFJaEQsVUFBVSxHQUFHO29CQUNoRCxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSx1Q0FBdUM7WUFDdkMsSUFBSTFCLFFBQVF1RyxVQUFVLElBQUl2RyxRQUFRdUcsVUFBVSxDQUFDdkMsTUFBTSxHQUFHLEdBQUc7Z0JBQ3ZELE1BQU13QyxnQkFBZ0J4RyxRQUFRdUcsVUFBVSxDQUFDTixJQUFJLENBQUMsQ0FBQ3RFLFdBQzdDK0MsSUFBSS9DLFFBQVEsQ0FBQ2dELFdBQVcsR0FBR0MsUUFBUSxDQUFDakQsU0FBU2dELFdBQVc7Z0JBRTFELElBQUksQ0FBQzZCLGVBQWUsT0FBTztZQUM3QjtZQUVBLHVDQUF1QztZQUN2QyxJQUFJeEcsUUFBUXlHLFVBQVUsSUFBSXpHLFFBQVF5RyxVQUFVLENBQUN6QyxNQUFNLEdBQUcsR0FBRztnQkFDdkQsTUFBTTBDLGdCQUFnQjFHLFFBQVF5RyxVQUFVLENBQUNSLElBQUksQ0FBQyxDQUFDM0IsV0FDN0NJLElBQUlyRCxrQkFBa0IsQ0FBQ3NELFdBQVcsR0FBR0MsUUFBUSxDQUFDTixTQUFTSyxXQUFXO2dCQUVwRSxJQUFJLENBQUMrQixlQUFlLE9BQU87WUFDN0I7WUFFQSwwQ0FBMEM7WUFDMUMsSUFBSTFHLFFBQVEyRyxZQUFZLElBQUkzRyxRQUFRMkcsWUFBWSxDQUFDM0MsTUFBTSxHQUFHLEdBQUc7Z0JBQzNELElBQUksQ0FBQ2hFLFFBQVEyRyxZQUFZLENBQUMvQixRQUFRLENBQUNGLElBQUl2QyxlQUFlLEdBQUc7b0JBQ3ZELE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLG1EQUFtRDtZQUNuRCxJQUFJbkMsUUFBUTRHLE9BQU8sSUFBSWxDLElBQUlqRCxjQUFjLEtBQUt6QixRQUFRNEcsT0FBTyxFQUFFO2dCQUM3RCxPQUFPO1lBQ1Q7WUFFQSxJQUFJNUcsUUFBUTZHLFVBQVUsSUFBSSxDQUFDbkMsSUFBSTlDLFVBQVUsQ0FBQytDLFdBQVcsR0FBR0MsUUFBUSxDQUFDNUUsUUFBUTZHLFVBQVUsQ0FBQ2xDLFdBQVcsS0FBSztnQkFDbEcsT0FBTztZQUNUO1lBRUEsSUFBSTNFLFFBQVE4RyxTQUFTLElBQUlwQyxJQUFJaEQsVUFBVSxLQUFLMUIsUUFBUThHLFNBQVMsRUFBRTtnQkFDN0QsT0FBTztZQUNUO1lBRUEsSUFBSTlHLFFBQVEyQixRQUFRLElBQUksQ0FBQytDLElBQUkvQyxRQUFRLENBQUNnRCxXQUFXLEdBQUdDLFFBQVEsQ0FBQzVFLFFBQVEyQixRQUFRLENBQUNnRCxXQUFXLEtBQUs7Z0JBQzVGLE9BQU87WUFDVDtZQUVBLElBQUkzRSxRQUFRc0UsUUFBUSxJQUFJLENBQUNJLElBQUlyRCxrQkFBa0IsQ0FBQ3NELFdBQVcsR0FBR0MsUUFBUSxDQUFDNUUsUUFBUXNFLFFBQVEsQ0FBQ0ssV0FBVyxLQUFLO2dCQUN0RyxPQUFPO1lBQ1Q7WUFFQSxJQUFJM0UsUUFBUStHLFVBQVUsSUFBSXJDLElBQUl2QyxlQUFlLEtBQUtuQyxRQUFRK0csVUFBVSxFQUFFO2dCQUNwRSxPQUFPO1lBQ1Q7WUFFQSxPQUFPO1FBQ1Q7SUFDRjtJQUVRaEQsWUFBWS9ELE9BQWEsRUFBUztRQUN4QyxxQkFBcUI7UUFDckIsTUFBTThELFdBQWtCO1lBQ3RCO2dCQUNFakQsSUFBSTtnQkFDSkUsTUFBTTtnQkFDTkMsT0FBTztnQkFDUEUsU0FBUztnQkFDVEMsY0FBYztnQkFDZEUsb0JBQW9CO2dCQUNwQkMsaUJBQWlCO2dCQUNqQkMsYUFBYTtnQkFDYkUsZ0JBQWdCO2dCQUNoQkMsWUFBWTtnQkFDWkMsVUFBVTtnQkFDVkMsWUFBWTtnQkFDWkMsS0FBSztnQkFDTEUsUUFBUTtnQkFDUkUsTUFBTTtnQkFDTkUsaUJBQWlCO2dCQUNqQkMsTUFBTTtnQkFDTkUsaUJBQWlCO2dCQUNqQkUsWUFBWSxJQUFJaUIsT0FBT3VELFdBQVc7Z0JBQ2xDdEUsV0FBVztnQkFDWEUsaUJBQWlCO2dCQUNqQkcsS0FBSztvQkFBRUMsTUFBTTtnQkFBSTtnQkFDakJDLFFBQVE7b0JBQUVDLFlBQVk7Z0JBQUk7WUFDNUI7U0FDRDtRQUVELE9BQU8sSUFBSSxDQUFDQyxVQUFVLENBQUNXLFVBQVU5RDtJQUNuQzs7YUFyckJROUQsVUFBVTthQUNWRSxnQkFBZ0I7YUFDaEJHLFlBQVk7O0FBb3JCdEI7QUFFQSxpREFBaUQ7QUFDckI7QUFDckIsTUFBTTBLLFlBQVksSUFBSWxMLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL25leGpvYi1wb3J0YWwvLi9zcmMvc2VydmljZXMvd3BTZXJ2aWNlLnRzPzNhMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSm9iIH0gZnJvbSAnQC90eXBlcy9qb2InO1xuXG5pbnRlcmZhY2UgRmlsdGVyRGF0YSB7XG4gIG5leGpvYl9sb2thc2lfcHJvdmluc2k6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgbmV4am9iX2thdGVnb3JpX3Bla2VyamFhbjogc3RyaW5nW107XG4gIG5leGpvYl90aXBlX3Bla2VyamFhbjogc3RyaW5nW107XG4gIG5leGpvYl9wZW5nYWxhbWFuX2tlcmphOiBzdHJpbmdbXTtcbiAgbmV4am9iX3BlbmRpZGlrYW46IHN0cmluZ1tdO1xuICBuZXhqb2Jfa2ViaWpha2FuX2tlcmphOiBzdHJpbmdbXTtcbiAgbmV4am9iX2luZHVzdHJpOiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIEpvYnNSZXNwb25zZSB7XG4gIGpvYnM6IEpvYltdO1xuICB0b3RhbFBhZ2VzOiBudW1iZXI7XG4gIGN1cnJlbnRQYWdlOiBudW1iZXI7XG4gIHRvdGFsSm9iczogbnVtYmVyO1xuICBoYXNNb3JlOiBib29sZWFuO1xufVxuXG5jbGFzcyBXb3JkUHJlc3NTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vc3RhZ2luZy5uZXhqb2IudGVjaC93cC1qc29uL3dwL3YyJztcbiAgcHJpdmF0ZSBmaWx0ZXJzQXBpVXJsID0gJ2h0dHBzOi8vc3RhZ2luZy5uZXhqb2IudGVjaC93cC1qc29uL25leC92MS9maWx0ZXJzLWRhdGEnO1xuICBwcml2YXRlIGF1dGhUb2tlbiA9ICcnO1xuXG4gIHNldEJhc2VVcmwodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSB1cmw7XG4gIH1cblxuICBzZXRGaWx0ZXJzQXBpVXJsKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5maWx0ZXJzQXBpVXJsID0gdXJsO1xuICB9XG5cbiAgc2V0QXV0aFRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICB0aGlzLmF1dGhUb2tlbiA9IHRva2VuO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRIZWFkZXJzKCkge1xuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gICAgXG4gICAgaWYgKHRoaXMuYXV0aFRva2VuKSB7XG4gICAgICBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dGhpcy5hdXRoVG9rZW59YDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH1cblxuICBwcml2YXRlIGRlY29kZUh0bWxFbnRpdGllcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBTZXJ2ZXItc2lkZSBmYWxsYmFja1xuICAgICAgcmV0dXJuIHRleHRcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyYnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnPCcpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICc+JylcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICdcIicpXG4gICAgICAgIC5yZXBsYWNlKC8mIzM5Oy9nLCBcIidcIik7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0ZXh0YXJlYS5pbm5lckhUTUwgPSB0ZXh0O1xuICAgIHJldHVybiB0ZXh0YXJlYS52YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgc3RyaXBIdG1sVGFncyhodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBTZXJ2ZXItc2lkZSBmYWxsYmFja1xuICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvPFtePl0qPi9nLCAnJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQgfHwgZGl2LmlubmVyVGV4dCB8fCAnJztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkRGVzY3JpcHRpb24oZXhjZXJwdFJlbmRlcmVkOiBzdHJpbmcsIHJhbmtNYXRoRGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gRmlyc3QgdHJ5IHJhbmtfbWF0aF9kZXNjcmlwdGlvbiBpZiBpdCBleGlzdHMgYW5kIGlzIG5vdCBlbXB0eVxuICAgIGlmIChyYW5rTWF0aERlc2NyaXB0aW9uICYmIHJhbmtNYXRoRGVzY3JpcHRpb24udHJpbSgpICE9PSAnJykge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyaXBIdG1sVGFncyh0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhyYW5rTWF0aERlc2NyaXB0aW9uKSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGwgYmFjayB0byBleGNlcnB0IGlmIGF2YWlsYWJsZVxuICAgIGlmIChleGNlcnB0UmVuZGVyZWQgJiYgZXhjZXJwdFJlbmRlcmVkLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmlwSHRtbFRhZ3ModGhpcy5kZWNvZGVIdG1sRW50aXRpZXMoZXhjZXJwdFJlbmRlcmVkKSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGFzeW5jIGdldEZpbHRlcnNEYXRhKCk6IFByb21pc2U8RmlsdGVyRGF0YT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuZmlsdGVyc0FwaVVybCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZmlsdGVycyBkYXRhJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIC8vIERlY29kZSBIVE1MIGVudGl0aWVzIGluIGZpbHRlciBkYXRhXG4gICAgICBjb25zdCBkZWNvZGVkRGF0YTogRmlsdGVyRGF0YSA9IHtcbiAgICAgICAgbmV4am9iX2xva2FzaV9wcm92aW5zaToge30sXG4gICAgICAgIG5leGpvYl9rYXRlZ29yaV9wZWtlcmphYW46IFtdLFxuICAgICAgICBuZXhqb2JfdGlwZV9wZWtlcmphYW46IFtdLFxuICAgICAgICBuZXhqb2JfcGVuZ2FsYW1hbl9rZXJqYTogW10sXG4gICAgICAgIG5leGpvYl9wZW5kaWRpa2FuOiBbXSxcbiAgICAgICAgbmV4am9iX2tlYmlqYWthbl9rZXJqYTogW10sXG4gICAgICAgIG5leGpvYl9pbmR1c3RyaTogW11cbiAgICAgIH07XG5cbiAgICAgIC8vIERlY29kZSBsb2NhdGlvbiBkYXRhXG4gICAgICBpZiAoZGF0YS5uZXhqb2JfbG9rYXNpX3Byb3ZpbnNpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGRhdGEubmV4am9iX2xva2FzaV9wcm92aW5zaSkuZm9yRWFjaChwcm92aW5jZSA9PiB7XG4gICAgICAgICAgY29uc3QgZGVjb2RlZFByb3ZpbmNlID0gdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMocHJvdmluY2UpO1xuICAgICAgICAgIGRlY29kZWREYXRhLm5leGpvYl9sb2thc2lfcHJvdmluc2lbZGVjb2RlZFByb3ZpbmNlXSA9IFxuICAgICAgICAgICAgZGF0YS5uZXhqb2JfbG9rYXNpX3Byb3ZpbnNpW3Byb3ZpbmNlXS5tYXAoKGNpdHk6IHN0cmluZykgPT4gdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMoY2l0eSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVjb2RlIG90aGVyIGZpbHRlciBhcnJheXNcbiAgICAgIGNvbnN0IGZpbHRlcktleXM6IChrZXlvZiBPbWl0PEZpbHRlckRhdGEsICduZXhqb2JfbG9rYXNpX3Byb3ZpbnNpJz4pW10gPSBbXG4gICAgICAgICduZXhqb2Jfa2F0ZWdvcmlfcGVrZXJqYWFuJyxcbiAgICAgICAgJ25leGpvYl90aXBlX3Bla2VyamFhbicsIFxuICAgICAgICAnbmV4am9iX3BlbmdhbGFtYW5fa2VyamEnLFxuICAgICAgICAnbmV4am9iX3BlbmRpZGlrYW4nLFxuICAgICAgICAnbmV4am9iX2tlYmlqYWthbl9rZXJqYScsXG4gICAgICAgICduZXhqb2JfaW5kdXN0cmknXG4gICAgICBdO1xuXG4gICAgICBmaWx0ZXJLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKGRhdGFba2V5XSAmJiBBcnJheS5pc0FycmF5KGRhdGFba2V5XSkpIHtcbiAgICAgICAgICBkZWNvZGVkRGF0YVtrZXldID0gZGF0YVtrZXldLm1hcCgoaXRlbTogc3RyaW5nKSA9PiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVjb2RlZERhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZpbHRlcnMgZGF0YTonLCBlcnJvcik7XG4gICAgICAvLyBSZXR1cm4gZmFsbGJhY2sgZGF0YVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0RmFsbGJhY2tGaWx0ZXJzRGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0RmFsbGJhY2tGaWx0ZXJzRGF0YSgpOiBGaWx0ZXJEYXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4am9iX2xva2FzaV9wcm92aW5zaToge1xuICAgICAgICAnREtJIEpha2FydGEnOiBbJ0pha2FydGEgUHVzYXQnLCAnSmFrYXJ0YSBTZWxhdGFuJywgJ0pha2FydGEgQmFyYXQnLCAnSmFrYXJ0YSBVdGFyYScsICdKYWthcnRhIFRpbXVyJ10sXG4gICAgICAgICdKYXdhIEJhcmF0JzogWydCYW5kdW5nJywgJ0Jla2FzaScsICdCb2dvcicsICdEZXBvaycsICdUYW5nZXJhbmcnXSxcbiAgICAgICAgJ0phd2EgVGltdXInOiBbJ1N1cmFiYXlhJywgJ01hbGFuZycsICdLZWRpcmknLCAnU2lkb2Fyam8nXSxcbiAgICAgICAgJ0phd2EgVGVuZ2FoJzogWydTZW1hcmFuZycsICdTb2xvJywgJ1lvZ3lha2FydGEnXSxcbiAgICAgICAgJ0JhbGknOiBbJ0RlbnBhc2FyJywgJ1VidWQnLCAnU2FudXInXSxcbiAgICAgICAgJ1N1bWF0ZXJhIFV0YXJhJzogWydNZWRhbicsICdCaW5qYWknXVxuICAgICAgfSxcbiAgICAgIG5leGpvYl9rYXRlZ29yaV9wZWtlcmphYW46IFtcbiAgICAgICAgJ1Rla25vbG9naSBJbmZvcm1hc2knLFxuICAgICAgICAnRGlnaXRhbCBNYXJrZXRpbmcnLFxuICAgICAgICAnQ3VzdG9tZXIgU2VydmljZScsXG4gICAgICAgICdIdW1hbiBSZXNvdXJjZXMnLFxuICAgICAgICAnU2FsZXMnLFxuICAgICAgICAnQWt1bnRhbnNpJyxcbiAgICAgICAgJ0hlYWx0aGNhcmUnLFxuICAgICAgICAnUGVuZGlkaWthbicsXG4gICAgICAgICdMb2dpc3RpaydcbiAgICAgIF0sXG4gICAgICBuZXhqb2JfdGlwZV9wZWtlcmphYW46IFtcbiAgICAgICAgJ0Z1bGwgVGltZScsXG4gICAgICAgICdQYXJ0IFRpbWUnLFxuICAgICAgICAnQ29udHJhY3QnLFxuICAgICAgICAnRnJlZWxhbmNlJyxcbiAgICAgICAgJ0ludGVybnNoaXAnXG4gICAgICBdLFxuICAgICAgbmV4am9iX3BlbmdhbGFtYW5fa2VyamE6IFtcbiAgICAgICAgJ0ZyZXNoIEdyYWR1YXRlJyxcbiAgICAgICAgJzEtMiBUYWh1bicsXG4gICAgICAgICcyLTMgVGFodW4nLFxuICAgICAgICAnMy01IFRhaHVuJyxcbiAgICAgICAgJzUrIFRhaHVuJ1xuICAgICAgXSxcbiAgICAgIG5leGpvYl9wZW5kaWRpa2FuOiBbXG4gICAgICAgICdTTUEvU01LJyxcbiAgICAgICAgJ0QzJyxcbiAgICAgICAgJ1MxJyxcbiAgICAgICAgJ1MyJ1xuICAgICAgXSxcbiAgICAgIG5leGpvYl9rZWJpamFrYW5fa2VyamE6IFtcbiAgICAgICAgJ09uLXNpdGUgV29ya2luZycsXG4gICAgICAgICdSZW1vdGUgV29ya2luZycsXG4gICAgICAgICdIeWJyaWQgV29ya2luZydcbiAgICAgIF0sXG4gICAgICBuZXhqb2JfaW5kdXN0cmk6IFtcbiAgICAgICAgJ1Rla25vbG9naSBJbmZvcm1hc2knLFxuICAgICAgICAnUGVyYmFua2FuJyxcbiAgICAgICAgJ0hlYWx0aGNhcmUnLFxuICAgICAgICAnUGVuZGlkaWthbicsXG4gICAgICAgICdFLWNvbW1lcmNlJyxcbiAgICAgICAgJ090b21vdGlmJyxcbiAgICAgICAgJ0RpZ2l0YWwgTWFya2V0aW5nJyxcbiAgICAgICAgJ0h1bWFuIFJlc291cmNlcycsXG4gICAgICAgICdDdXN0b21lciBTZXJ2aWNlJyxcbiAgICAgICAgJ1NhbGVzJyxcbiAgICAgICAgJ0xvZ2lzdGlrJyxcbiAgICAgICAgJ0FrdW50YW5zaSdcbiAgICAgIF1cbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBhbnk7IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2xvd29uZ2FuLWtlcmphP3Blcl9wYWdlPTFgLCB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhWzBdIHx8IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB0ZXN0RmlsdGVyc0Nvbm5lY3Rpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBhbnk7IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmZpbHRlcnNBcGlVcmwsIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGRhdGEgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRKb2JzKGZpbHRlcnM/OiBhbnksIHBhZ2U6IG51bWJlciA9IDEsIHBlclBhZ2U6IG51bWJlciA9IDI0KTogUHJvbWlzZTxKb2JzUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbG93b25nYW4ta2VyamE/cGVyX3BhZ2U9JHtwZXJQYWdlfSZwYWdlPSR7cGFnZX0mX2VtYmVkYDtcbiAgICAgIFxuICAgICAgLy8gQWRkIHNlYXJjaCBwYXJhbWV0ZXIgaWYgcHJvdmlkZWRcbiAgICAgIGlmIChmaWx0ZXJzPy5zZWFyY2gpIHtcbiAgICAgICAgdXJsICs9IGAmc2VhcmNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGZpbHRlcnMuc2VhcmNoKX1gO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggam9icycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB3cEpvYnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0b3RhbCBwYWdlcyBmcm9tIGhlYWRlcnNcbiAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmdldCgnWC1XUC1Ub3RhbFBhZ2VzJykgfHwgJzEnKTtcbiAgICAgIGNvbnN0IHRvdGFsSm9icyA9IHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVdQLVRvdGFsJykgfHwgJzAnKTtcbiAgICAgIFxuICAgICAgLy8gVHJhbnNmb3JtIFdvcmRQcmVzcyBkYXRhIHRvIG91ciBKb2IgaW50ZXJmYWNlXG4gICAgICBsZXQgam9iczogSm9iW10gPSB3cEpvYnMubWFwKCh3cEpvYjogYW55KSA9PiB7XG4gICAgICAgIC8vIEV4dHJhY3QgbWV0YSBmaWVsZHMgd2l0aCBuZXhqb2JfIHByZWZpeFxuICAgICAgICBjb25zdCBtZXRhID0gd3BKb2IubWV0YSB8fCB7fTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHdwSm9iLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgc2x1Zzogd3BKb2Iuc2x1ZyxcbiAgICAgICAgICB0aXRsZTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMod3BKb2IudGl0bGUucmVuZGVyZWQpLFxuICAgICAgICAgIGNvbnRlbnQ6IHdwSm9iLmNvbnRlbnQucmVuZGVyZWQsXG4gICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9uYW1hX3BlcnVzYWhhYW4gfHwgJ1BlcnVzYWhhYW4nKSxcbiAgICAgICAgICBrYXRlZ29yaV9wZWtlcmphYW46IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX2thdGVnb3JpX3Bla2VyamFhbiB8fCAnJyksXG4gICAgICAgICAgbG9rYXNpX3Byb3ZpbnNpOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9sb2thc2lfcHJvdmluc2kgfHwgJycpLFxuICAgICAgICAgIGxva2FzaV9rb3RhOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9sb2thc2lfa290YSB8fCAnJyksXG4gICAgICAgICAgdGlwZV9wZWtlcmphYW46IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX3RpcGVfcGVrZXJqYWFuIHx8ICdGdWxsIFRpbWUnKSxcbiAgICAgICAgICBwZW5kaWRpa2FuOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9wZW5kaWRpa2FuIHx8ICcnKSxcbiAgICAgICAgICBpbmR1c3RyeTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfaW5kdXN0cmkgfHwgJycpLFxuICAgICAgICAgIHBlbmdhbGFtYW46IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX3BlbmdhbGFtYW5fa2VyamEgfHwgJycpLFxuICAgICAgICAgIHRhZzogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfdGFnX2xva2VyIHx8ICcnKSxcbiAgICAgICAgICBnZW5kZXI6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX2dlbmRlciB8fCAnJyksXG4gICAgICAgICAgZ2FqaTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfZ2FqaSB8fCAnTmVnb3NpYXNpJyksXG4gICAgICAgICAga2ViaWpha2FuX2tlcmphOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9rZWJpamFrYW5fa2VyamEgfHwgJycpLFxuICAgICAgICAgIGxpbms6IG1ldGEubmV4am9iX2xpbmtfbG9rZXIgfHwgd3BKb2IubGluayxcbiAgICAgICAgICBzdW1iZXJfbG93b25nYW46IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX3N1bWJlcl9sb2tlciB8fCAnTmV4am9iJyksXG4gICAgICAgICAgY3JlYXRlZF9hdDogd3BKb2IuZGF0ZSxcbiAgICAgICAgICBzZW9fdGl0bGU6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEucmFua19tYXRoX3RpdGxlIHx8IHdwSm9iLnRpdGxlLnJlbmRlcmVkKSxcbiAgICAgICAgICBzZW9fZGVzY3JpcHRpb246IHRoaXMuZ2V0UHJlZmVycmVkRGVzY3JpcHRpb24od3BKb2IuZXhjZXJwdD8ucmVuZGVyZWQgfHwgJycsIG1ldGEucmFua19tYXRoX2Rlc2NyaXB0aW9uIHx8ICcnKSxcbiAgICAgICAgICBfaWQ6IHsgJG9pZDogd3BKb2IuaWQudG9TdHJpbmcoKSB9LFxuICAgICAgICAgIGlkX29iajogeyAkbnVtYmVySW50OiB3cEpvYi5pZC50b1N0cmluZygpIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBcHBseSBjbGllbnQtc2lkZSBmaWx0ZXJpbmcgZm9yIGZpZWxkcyBub3Qgc3VwcG9ydGVkIGJ5IFdvcmRQcmVzcyBzZWFyY2hcbiAgICAgIGpvYnMgPSB0aGlzLmZpbHRlckpvYnMoam9icywgZmlsdGVycyk7XG5cbiAgICAgIC8vIEFwcGx5IHNvcnRpbmdcbiAgICAgIGlmIChmaWx0ZXJzPy5zb3J0QnkgPT09ICduZXdlc3QnKSB7XG4gICAgICAgIGpvYnMgPSBqb2JzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRlQSA9IG5ldyBEYXRlKGEuY3JlYXRlZF9hdCB8fCAnJykuZ2V0VGltZSgpO1xuICAgICAgICAgIGNvbnN0IGRhdGVCID0gbmV3IERhdGUoYi5jcmVhdGVkX2F0IHx8ICcnKS5nZXRUaW1lKCk7XG4gICAgICAgICAgcmV0dXJuIGRhdGVCIC0gZGF0ZUE7IC8vIE5ld2VzdCBmaXJzdFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgam9icyxcbiAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgIHRvdGFsSm9icyxcbiAgICAgICAgaGFzTW9yZTogcGFnZSA8IHRvdGFsUGFnZXNcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGpvYnM6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YSBhcyBmYWxsYmFja1xuICAgICAgY29uc3QgbW9ja0pvYnMgPSB0aGlzLmdldE1vY2tKb2JzKGZpbHRlcnMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgam9iczogbW9ja0pvYnMsXG4gICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICB0b3RhbEpvYnM6IG1vY2tKb2JzLmxlbmd0aCxcbiAgICAgICAgaGFzTW9yZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gTGVnYWN5IG1ldGhvZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICBhc3luYyBnZXRBbGxKb2JzKGZpbHRlcnM/OiBhbnkpOiBQcm9taXNlPEpvYltdPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldEpvYnMoZmlsdGVycywgMSwgMTAwKTtcbiAgICByZXR1cm4gcmVzcG9uc2Uuam9icztcbiAgfVxuXG4gIGFzeW5jIGdldEpvYkJ5U2x1ZyhzbHVnOiBzdHJpbmcpOiBQcm9taXNlPEpvYiB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2xvd29uZ2FuLWtlcmphP3NsdWc9JHtzbHVnfSZfZW1iZWRgLCB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pvYiBub3QgZm91bmQnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd3BKb2JzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKCF3cEpvYnMgfHwgd3BKb2JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd3BKb2IgPSB3cEpvYnNbMF07XG4gICAgICBjb25zdCBtZXRhID0gd3BKb2IubWV0YSB8fCB7fTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHdwSm9iLmlkLnRvU3RyaW5nKCksXG4gICAgICAgIHNsdWc6IHdwSm9iLnNsdWcsXG4gICAgICAgIHRpdGxlOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyh3cEpvYi50aXRsZS5yZW5kZXJlZCksXG4gICAgICAgIGNvbnRlbnQ6IHdwSm9iLmNvbnRlbnQucmVuZGVyZWQsXG4gICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfbmFtYV9wZXJ1c2FoYWFuIHx8ICdQZXJ1c2FoYWFuJyksXG4gICAgICAgIGthdGVnb3JpX3Bla2VyamFhbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2Jfa2F0ZWdvcmlfcGVrZXJqYWFuIHx8ICcnKSxcbiAgICAgICAgbG9rYXNpX3Byb3ZpbnNpOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9sb2thc2lfcHJvdmluc2kgfHwgJycpLFxuICAgICAgICBsb2thc2lfa290YTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfbG9rYXNpX2tvdGEgfHwgJycpLFxuICAgICAgICB0aXBlX3Bla2VyamFhbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfdGlwZV9wZWtlcmphYW4gfHwgJ0Z1bGwgVGltZScpLFxuICAgICAgICBwZW5kaWRpa2FuOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9wZW5kaWRpa2FuIHx8ICcnKSxcbiAgICAgICAgaW5kdXN0cnk6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX2luZHVzdHJpIHx8ICcnKSxcbiAgICAgICAgcGVuZ2FsYW1hbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfcGVuZ2FsYW1hbl9rZXJqYSB8fCAnJyksXG4gICAgICAgIHRhZzogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfdGFnX2xva2VyIHx8ICcnKSxcbiAgICAgICAgZ2VuZGVyOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9nZW5kZXIgfHwgJycpLFxuICAgICAgICBnYWppOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9nYWppIHx8ICdOZWdvc2lhc2knKSxcbiAgICAgICAga2ViaWpha2FuX2tlcmphOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9rZWJpamFrYW5fa2VyamEgfHwgJycpLFxuICAgICAgICBsaW5rOiBtZXRhLm5leGpvYl9saW5rX2xva2VyIHx8IHdwSm9iLmxpbmssXG4gICAgICAgIHN1bWJlcl9sb3dvbmdhbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2Jfc3VtYmVyX2xva2VyIHx8ICdOZXhqb2InKSxcbiAgICAgICAgY3JlYXRlZF9hdDogd3BKb2IuZGF0ZSxcbiAgICAgICAgc2VvX3RpdGxlOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLnJhbmtfbWF0aF90aXRsZSB8fCB3cEpvYi50aXRsZS5yZW5kZXJlZCksXG4gICAgICAgIHNlb19kZXNjcmlwdGlvbjogdGhpcy5nZXRQcmVmZXJyZWREZXNjcmlwdGlvbih3cEpvYi5leGNlcnB0Py5yZW5kZXJlZCB8fCAnJywgbWV0YS5yYW5rX21hdGhfZGVzY3JpcHRpb24gfHwgJycpLFxuICAgICAgICBfaWQ6IHsgJG9pZDogd3BKb2IuaWQudG9TdHJpbmcoKSB9LFxuICAgICAgICBpZF9vYmo6IHsgJG51bWJlckludDogd3BKb2IuaWQudG9TdHJpbmcoKSB9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBqb2I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Sm9iQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxKb2IgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9sb3dvbmdhbi1rZXJqYS8ke2lkfT9fZW1iZWRgLCB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pvYiBub3QgZm91bmQnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd3BKb2IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zdCBtZXRhID0gd3BKb2IubWV0YSB8fCB7fTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHdwSm9iLmlkLnRvU3RyaW5nKCksXG4gICAgICAgIHNsdWc6IHdwSm9iLnNsdWcsXG4gICAgICAgIHRpdGxlOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyh3cEpvYi50aXRsZS5yZW5kZXJlZCksXG4gICAgICAgIGNvbnRlbnQ6IHdwSm9iLmNvbnRlbnQucmVuZGVyZWQsXG4gICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfbmFtYV9wZXJ1c2FoYWFuIHx8ICdQZXJ1c2FoYWFuJyksXG4gICAgICAgIGthdGVnb3JpX3Bla2VyamFhbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2Jfa2F0ZWdvcmlfcGVrZXJqYWFuIHx8ICcnKSxcbiAgICAgICAgbG9rYXNpX3Byb3ZpbnNpOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9sb2thc2lfcHJvdmluc2kgfHwgJycpLFxuICAgICAgICBsb2thc2lfa290YTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfbG9rYXNpX2tvdGEgfHwgJycpLFxuICAgICAgICB0aXBlX3Bla2VyamFhbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfdGlwZV9wZWtlcmphYW4gfHwgJ0Z1bGwgVGltZScpLFxuICAgICAgICBwZW5kaWRpa2FuOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9wZW5kaWRpa2FuIHx8ICcnKSxcbiAgICAgICAgaW5kdXN0cnk6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKG1ldGEubmV4am9iX2luZHVzdHJpIHx8ICcnKSxcbiAgICAgICAgcGVuZ2FsYW1hbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfcGVuZ2FsYW1hbl9rZXJqYSB8fCAnJyksXG4gICAgICAgIHRhZzogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2JfdGFnX2xva2VyIHx8ICcnKSxcbiAgICAgICAgZ2VuZGVyOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9nZW5kZXIgfHwgJycpLFxuICAgICAgICBnYWppOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9nYWppIHx8ICdOZWdvc2lhc2knKSxcbiAgICAgICAga2ViaWpha2FuX2tlcmphOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLm5leGpvYl9rZWJpamFrYW5fa2VyamEgfHwgJycpLFxuICAgICAgICBsaW5rOiBtZXRhLm5leGpvYl9saW5rX2xva2VyIHx8IHdwSm9iLmxpbmssXG4gICAgICAgIHN1bWJlcl9sb3dvbmdhbjogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMobWV0YS5uZXhqb2Jfc3VtYmVyX2xva2VyIHx8ICdOZXhqb2InKSxcbiAgICAgICAgY3JlYXRlZF9hdDogd3BKb2IuZGF0ZSxcbiAgICAgICAgc2VvX3RpdGxlOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhtZXRhLnJhbmtfbWF0aF90aXRsZSB8fCB3cEpvYi50aXRsZS5yZW5kZXJlZCksXG4gICAgICAgIHNlb19kZXNjcmlwdGlvbjogdGhpcy5nZXRQcmVmZXJyZWREZXNjcmlwdGlvbih3cEpvYi5leGNlcnB0Py5yZW5kZXJlZCB8fCAnJywgbWV0YS5yYW5rX21hdGhfZGVzY3JpcHRpb24gfHwgJycpLFxuICAgICAgICBfaWQ6IHsgJG9pZDogd3BKb2IuaWQudG9TdHJpbmcoKSB9LFxuICAgICAgICBpZF9vYmo6IHsgJG51bWJlckludDogd3BKb2IuaWQudG9TdHJpbmcoKSB9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBqb2I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0UmVsYXRlZEpvYnMoY3VycmVudEpvYklkOiBzdHJpbmcsIGNhdGVnb3J5OiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSA0KTogUHJvbWlzZTxKb2JbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxKb2JzID0gYXdhaXQgdGhpcy5nZXRBbGxKb2JzKCk7XG4gICAgICByZXR1cm4gYWxsSm9ic1xuICAgICAgICAuZmlsdGVyKGpvYiA9PiBqb2IuaWQgIT09IGN1cnJlbnRKb2JJZCAmJiBqb2Iua2F0ZWdvcmlfcGVrZXJqYWFuLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgIC5zbGljZSgwLCBsaW1pdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlbGF0ZWQgam9iczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QXJ0aWNsZXMobGltaXQ/OiBudW1iZXIpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3Bvc3RzP19lbWJlZGA7XG4gICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgdXJsICs9IGAmcGVyX3BhZ2U9JHtsaW1pdH1gO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggYXJ0aWNsZXMnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXJ0aWNsZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBmZWF0dXJlZCBpbWFnZSBVUkwgYW5kIGF1dGhvciBpbmZvIGlmIGF2YWlsYWJsZVxuICAgICAgcmV0dXJuIGFydGljbGVzLm1hcCgoYXJ0aWNsZTogYW55KSA9PiAoe1xuICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgIC4uLmFydGljbGUudGl0bGUsXG4gICAgICAgICAgcmVuZGVyZWQ6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGFydGljbGUudGl0bGUucmVuZGVyZWQpXG4gICAgICAgIH0sXG4gICAgICAgIGV4Y2VycHQ6IHtcbiAgICAgICAgICAuLi5hcnRpY2xlLmV4Y2VycHQsXG4gICAgICAgICAgcmVuZGVyZWQ6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGFydGljbGUuZXhjZXJwdC5yZW5kZXJlZClcbiAgICAgICAgfSxcbiAgICAgICAgZmVhdHVyZWRfbWVkaWFfdXJsOiBhcnRpY2xlLl9lbWJlZGRlZD8uWyd3cDpmZWF0dXJlZG1lZGlhJ10/LlswXT8uc291cmNlX3VybCB8fCBudWxsLFxuICAgICAgICBhdXRob3JfaW5mbzogYXJ0aWNsZS5fZW1iZWRkZWQ/LmF1dGhvcj8uWzBdIHx8IG51bGwsXG4gICAgICAgIGNhdGVnb3JpZXNfaW5mbzogYXJ0aWNsZS5fZW1iZWRkZWQ/Llsnd3A6dGVybSddPy5bMF0/Lm1hcCgoY2F0OiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4uY2F0LFxuICAgICAgICAgIG5hbWU6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGNhdC5uYW1lKVxuICAgICAgICB9KSkgfHwgW10sXG4gICAgICAgIHRhZ3NfaW5mbzogYXJ0aWNsZS5fZW1iZWRkZWQ/Llsnd3A6dGVybSddPy5bMV0/Lm1hcCgodGFnOiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4udGFnLFxuICAgICAgICAgIG5hbWU6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKHRhZy5uYW1lKVxuICAgICAgICB9KSkgfHwgW10sXG4gICAgICAgIHNlb190aXRsZTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMoYXJ0aWNsZS5tZXRhPy5yYW5rX21hdGhfdGl0bGUgfHwgYXJ0aWNsZS50aXRsZS5yZW5kZXJlZCksXG4gICAgICAgIHNlb19kZXNjcmlwdGlvbjogdGhpcy5nZXRQcmVmZXJyZWREZXNjcmlwdGlvbihhcnRpY2xlLmV4Y2VycHQ/LnJlbmRlcmVkIHx8ICcnLCBhcnRpY2xlLm1ldGE/LnJhbmtfbWF0aF9kZXNjcmlwdGlvbiB8fCAnJylcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXJ0aWNsZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEFydGljbGVCeVNsdWcoc2x1Zzogc3RyaW5nKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9wb3N0cz9zbHVnPSR7c2x1Z30mX2VtYmVkYCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnRpY2xlIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICghYXJ0aWNsZXMgfHwgYXJ0aWNsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhcnRpY2xlID0gYXJ0aWNsZXNbMF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgIC4uLmFydGljbGUudGl0bGUsXG4gICAgICAgICAgcmVuZGVyZWQ6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGFydGljbGUudGl0bGUucmVuZGVyZWQpXG4gICAgICAgIH0sXG4gICAgICAgIGV4Y2VycHQ6IHtcbiAgICAgICAgICAuLi5hcnRpY2xlLmV4Y2VycHQsXG4gICAgICAgICAgcmVuZGVyZWQ6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGFydGljbGUuZXhjZXJwdC5yZW5kZXJlZClcbiAgICAgICAgfSxcbiAgICAgICAgZmVhdHVyZWRfbWVkaWFfdXJsOiBhcnRpY2xlLl9lbWJlZGRlZD8uWyd3cDpmZWF0dXJlZG1lZGlhJ10/LlswXT8uc291cmNlX3VybCB8fCBudWxsLFxuICAgICAgICBhdXRob3JfaW5mbzogYXJ0aWNsZS5fZW1iZWRkZWQ/LmF1dGhvcj8uWzBdIHx8IG51bGwsXG4gICAgICAgIGNhdGVnb3JpZXNfaW5mbzogYXJ0aWNsZS5fZW1iZWRkZWQ/Llsnd3A6dGVybSddPy5bMF0/Lm1hcCgoY2F0OiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4uY2F0LFxuICAgICAgICAgIG5hbWU6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGNhdC5uYW1lKVxuICAgICAgICB9KSkgfHwgW10sXG4gICAgICAgIHRhZ3NfaW5mbzogYXJ0aWNsZS5fZW1iZWRkZWQ/Llsnd3A6dGVybSddPy5bMV0/Lm1hcCgodGFnOiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4udGFnLFxuICAgICAgICAgIG5hbWU6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKHRhZy5uYW1lKVxuICAgICAgICB9KSkgfHwgW10sXG4gICAgICAgIHNlb190aXRsZTogdGhpcy5kZWNvZGVIdG1sRW50aXRpZXMoYXJ0aWNsZS5tZXRhPy5yYW5rX21hdGhfdGl0bGUgfHwgYXJ0aWNsZS50aXRsZS5yZW5kZXJlZCksXG4gICAgICAgIHNlb19kZXNjcmlwdGlvbjogdGhpcy5nZXRQcmVmZXJyZWREZXNjcmlwdGlvbihhcnRpY2xlLmV4Y2VycHQ/LnJlbmRlcmVkIHx8ICcnLCBhcnRpY2xlLm1ldGE/LnJhbmtfbWF0aF9kZXNjcmlwdGlvbiB8fCAnJylcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFydGljbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QXJ0aWNsZUJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8YW55IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vcG9zdHMvJHtpZH0/X2VtYmVkYCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnRpY2xlIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhcnRpY2xlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYXJ0aWNsZSxcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAuLi5hcnRpY2xlLnRpdGxlLFxuICAgICAgICAgIHJlbmRlcmVkOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhhcnRpY2xlLnRpdGxlLnJlbmRlcmVkKVxuICAgICAgICB9LFxuICAgICAgICBleGNlcnB0OiB7XG4gICAgICAgICAgLi4uYXJ0aWNsZS5leGNlcnB0LFxuICAgICAgICAgIHJlbmRlcmVkOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhhcnRpY2xlLmV4Y2VycHQucmVuZGVyZWQpXG4gICAgICAgIH0sXG4gICAgICAgIGZlYXR1cmVkX21lZGlhX3VybDogYXJ0aWNsZS5fZW1iZWRkZWQ/Llsnd3A6ZmVhdHVyZWRtZWRpYSddPy5bMF0/LnNvdXJjZV91cmwgfHwgbnVsbCxcbiAgICAgICAgYXV0aG9yX2luZm86IGFydGljbGUuX2VtYmVkZGVkPy5hdXRob3I/LlswXSB8fCBudWxsLFxuICAgICAgICBjYXRlZ29yaWVzX2luZm86IGFydGljbGUuX2VtYmVkZGVkPy5bJ3dwOnRlcm0nXT8uWzBdPy5tYXAoKGNhdDogYW55KSA9PiAoe1xuICAgICAgICAgIC4uLmNhdCxcbiAgICAgICAgICBuYW1lOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyhjYXQubmFtZSlcbiAgICAgICAgfSkpIHx8IFtdLFxuICAgICAgICB0YWdzX2luZm86IGFydGljbGUuX2VtYmVkZGVkPy5bJ3dwOnRlcm0nXT8uWzFdPy5tYXAoKHRhZzogYW55KSA9PiAoe1xuICAgICAgICAgIC4uLnRhZyxcbiAgICAgICAgICBuYW1lOiB0aGlzLmRlY29kZUh0bWxFbnRpdGllcyh0YWcubmFtZSlcbiAgICAgICAgfSkpIHx8IFtdLFxuICAgICAgICBzZW9fdGl0bGU6IHRoaXMuZGVjb2RlSHRtbEVudGl0aWVzKGFydGljbGUubWV0YT8ucmFua19tYXRoX3RpdGxlIHx8IGFydGljbGUudGl0bGUucmVuZGVyZWQpLFxuICAgICAgICBzZW9fZGVzY3JpcHRpb246IHRoaXMuZ2V0UHJlZmVycmVkRGVzY3JpcHRpb24oYXJ0aWNsZS5leGNlcnB0Py5yZW5kZXJlZCB8fCAnJywgYXJ0aWNsZS5tZXRhPy5yYW5rX21hdGhfZGVzY3JpcHRpb24gfHwgJycpXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhcnRpY2xlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFJlbGF0ZWRBcnRpY2xlcyhjdXJyZW50QXJ0aWNsZUlkOiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSAzKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IHRoaXMuZ2V0QXJ0aWNsZXMoKTtcbiAgICAgIHJldHVybiBhcnRpY2xlc1xuICAgICAgICAuZmlsdGVyKGFydGljbGUgPT4gYXJ0aWNsZS5pZC50b1N0cmluZygpICE9PSBjdXJyZW50QXJ0aWNsZUlkKVxuICAgICAgICAuc2xpY2UoMCwgbGltaXQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWxhdGVkIGFydGljbGVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbHRlckpvYnMoam9iczogSm9iW10sIGZpbHRlcnM/OiBhbnkpOiBKb2JbXSB7XG4gICAgaWYgKCFmaWx0ZXJzKSByZXR1cm4gam9icztcblxuICAgIHJldHVybiBqb2JzLmZpbHRlcihqb2IgPT4ge1xuICAgICAgLy8gTG9jYXRpb24gZmlsdGVyIChwcm92aW5jZSlcbiAgICAgIGlmIChmaWx0ZXJzLmxvY2F0aW9uICYmICFqb2IubG9rYXNpX3Byb3ZpbnNpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVycy5sb2NhdGlvbi50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENpdHkgZmlsdGVyIChtdWx0aXBsZSBzZWxlY3Rpb24pXG4gICAgICBpZiAoZmlsdGVycy5jaXRpZXMgJiYgZmlsdGVycy5jaXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBqb2JDaXR5TWF0Y2ggPSBmaWx0ZXJzLmNpdGllcy5zb21lKChjaXR5OiBzdHJpbmcpID0+IFxuICAgICAgICAgIGpvYi5sb2thc2lfa290YS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGNpdHkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFqb2JDaXR5TWF0Y2gpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gSm9iIHR5cGUgZmlsdGVyIChtdWx0aXBsZSBzZWxlY3Rpb24pXG4gICAgICBpZiAoZmlsdGVycy5qb2JUeXBlcyAmJiBmaWx0ZXJzLmpvYlR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFmaWx0ZXJzLmpvYlR5cGVzLmluY2x1ZGVzKGpvYi50aXBlX3Bla2VyamFhbikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRXhwZXJpZW5jZSBmaWx0ZXIgKG11bHRpcGxlIHNlbGVjdGlvbilcbiAgICAgIGlmIChmaWx0ZXJzLmV4cGVyaWVuY2VzICYmIGZpbHRlcnMuZXhwZXJpZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBleHBlcmllbmNlTWF0Y2ggPSBmaWx0ZXJzLmV4cGVyaWVuY2VzLnNvbWUoKGV4cDogc3RyaW5nKSA9PiBcbiAgICAgICAgICBqb2IucGVuZ2FsYW1hbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGV4cC50b0xvd2VyQ2FzZSgpKVxuICAgICAgICApO1xuICAgICAgICBpZiAoIWV4cGVyaWVuY2VNYXRjaCkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBFZHVjYXRpb24gZmlsdGVyIChtdWx0aXBsZSBzZWxlY3Rpb24pXG4gICAgICBpZiAoZmlsdGVycy5lZHVjYXRpb25zICYmIGZpbHRlcnMuZWR1Y2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICghZmlsdGVycy5lZHVjYXRpb25zLmluY2x1ZGVzKGpvYi5wZW5kaWRpa2FuKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJbmR1c3RyeSBmaWx0ZXIgKG11bHRpcGxlIHNlbGVjdGlvbilcbiAgICAgIGlmIChmaWx0ZXJzLmluZHVzdHJpZXMgJiYgZmlsdGVycy5pbmR1c3RyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgaW5kdXN0cnlNYXRjaCA9IGZpbHRlcnMuaW5kdXN0cmllcy5zb21lKChpbmR1c3RyeTogc3RyaW5nKSA9PiBcbiAgICAgICAgICBqb2IuaW5kdXN0cnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbmR1c3RyeS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICApO1xuICAgICAgICBpZiAoIWluZHVzdHJ5TWF0Y2gpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2F0ZWdvcnkgZmlsdGVyIChtdWx0aXBsZSBzZWxlY3Rpb24pXG4gICAgICBpZiAoZmlsdGVycy5jYXRlZ29yaWVzICYmIGZpbHRlcnMuY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5TWF0Y2ggPSBmaWx0ZXJzLmNhdGVnb3JpZXMuc29tZSgoY2F0ZWdvcnk6IHN0cmluZykgPT4gXG4gICAgICAgICAgam9iLmthdGVnb3JpX3Bla2VyamFhbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICk7XG4gICAgICAgIGlmICghY2F0ZWdvcnlNYXRjaCkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBXb3JrIHBvbGljeSBmaWx0ZXIgKG11bHRpcGxlIHNlbGVjdGlvbilcbiAgICAgIGlmIChmaWx0ZXJzLndvcmtQb2xpY2llcyAmJiBmaWx0ZXJzLndvcmtQb2xpY2llcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICghZmlsdGVycy53b3JrUG9saWNpZXMuaW5jbHVkZXMoam9iLmtlYmlqYWthbl9rZXJqYSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IHNpbmdsZSBmaWx0ZXJzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICBpZiAoZmlsdGVycy5qb2JUeXBlICYmIGpvYi50aXBlX3Bla2VyamFhbiAhPT0gZmlsdGVycy5qb2JUeXBlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlcnMuZXhwZXJpZW5jZSAmJiAham9iLnBlbmdhbGFtYW4udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXJzLmV4cGVyaWVuY2UudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVycy5lZHVjYXRpb24gJiYgam9iLnBlbmRpZGlrYW4gIT09IGZpbHRlcnMuZWR1Y2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlcnMuaW5kdXN0cnkgJiYgIWpvYi5pbmR1c3RyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlcnMuaW5kdXN0cnkudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVycy5jYXRlZ29yeSAmJiAham9iLmthdGVnb3JpX3Bla2VyamFhbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlcnMuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVycy53b3JrUG9saWN5ICYmIGpvYi5rZWJpamFrYW5fa2VyamEgIT09IGZpbHRlcnMud29ya1BvbGljeSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNb2NrSm9icyhmaWx0ZXJzPzogYW55KTogSm9iW10ge1xuICAgIC8vIEZhbGxiYWNrIG1vY2sgZGF0YVxuICAgIGNvbnN0IG1vY2tKb2JzOiBKb2JbXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgc2x1ZzogJ2Zyb250ZW5kLWRldmVsb3Blci1yZWFjdC1qcycsXG4gICAgICAgIHRpdGxlOiAnRnJvbnRlbmQgRGV2ZWxvcGVyIFJlYWN0LmpzJyxcbiAgICAgICAgY29udGVudDogJzxwPkthbWkgbWVuY2FyaSBGcm9udGVuZCBEZXZlbG9wZXIgeWFuZyBiZXJwZW5nYWxhbWFuIGRlbmdhbiBSZWFjdC5qczwvcD4nLFxuICAgICAgICBjb21wYW55X25hbWU6ICdQVC4gVGVrbm9sb2dpIERpZ2l0YWwgSW5kb25lc2lhJyxcbiAgICAgICAga2F0ZWdvcmlfcGVrZXJqYWFuOiAnU29mdHdhcmUgRW5naW5lZXInLFxuICAgICAgICBsb2thc2lfcHJvdmluc2k6ICdES0kgSmFrYXJ0YScsXG4gICAgICAgIGxva2FzaV9rb3RhOiAnSmFrYXJ0YSBTZWxhdGFuJyxcbiAgICAgICAgdGlwZV9wZWtlcmphYW46ICdGdWxsIFRpbWUnLFxuICAgICAgICBwZW5kaWRpa2FuOiAnUzEnLFxuICAgICAgICBpbmR1c3RyeTogJ1Rla25vbG9naSBJbmZvcm1hc2knLFxuICAgICAgICBwZW5nYWxhbWFuOiAnMi00IFRhaHVuJyxcbiAgICAgICAgdGFnOiAnUmVhY3QuanMsIEZyb250ZW5kIERldmVsb3BlciwgSmF2YVNjcmlwdCwgVHlwZVNjcmlwdCcsXG4gICAgICAgIGdlbmRlcjogJ0xha2ktTGFraSBhdGF1IFBlcmVtcHVhbicsXG4gICAgICAgIGdhamk6ICdScCA4LTEyIEp1dGEnLFxuICAgICAgICBrZWJpamFrYW5fa2VyamE6ICdIeWJyaWQgV29ya2luZycsXG4gICAgICAgIGxpbms6ICcjJyxcbiAgICAgICAgc3VtYmVyX2xvd29uZ2FuOiAnTmV4am9iJyxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBzZW9fdGl0bGU6ICdGcm9udGVuZCBEZXZlbG9wZXIgUmVhY3QuanMnLFxuICAgICAgICBzZW9fZGVzY3JpcHRpb246ICdMb3dvbmdhbiBGcm9udGVuZCBEZXZlbG9wZXIgUmVhY3QuanMgZGkgSmFrYXJ0YScsXG4gICAgICAgIF9pZDogeyAkb2lkOiAnMScgfSxcbiAgICAgICAgaWRfb2JqOiB7ICRudW1iZXJJbnQ6ICcxJyB9XG4gICAgICB9XG4gICAgXTtcblxuICAgIHJldHVybiB0aGlzLmZpbHRlckpvYnMobW9ja0pvYnMsIGZpbHRlcnMpO1xuICB9XG59XG5cbi8vIEV4cG9ydCBib3RoIHRoZSBjbGFzcyBhbmQgYSBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCB7IFdvcmRQcmVzc1NlcnZpY2UgfTtcbmV4cG9ydCBjb25zdCB3cFNlcnZpY2UgPSBuZXcgV29yZFByZXNzU2VydmljZSgpO1xuZXhwb3J0IHR5cGUgeyBGaWx0ZXJEYXRhLCBKb2JzUmVzcG9uc2UgfTsiXSwibmFtZXMiOlsiV29yZFByZXNzU2VydmljZSIsInNldEJhc2VVcmwiLCJ1cmwiLCJiYXNlVXJsIiwic2V0RmlsdGVyc0FwaVVybCIsImZpbHRlcnNBcGlVcmwiLCJzZXRBdXRoVG9rZW4iLCJ0b2tlbiIsImF1dGhUb2tlbiIsImdldEhlYWRlcnMiLCJoZWFkZXJzIiwiZGVjb2RlSHRtbEVudGl0aWVzIiwidGV4dCIsImRvY3VtZW50IiwicmVwbGFjZSIsInRleHRhcmVhIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInZhbHVlIiwic3RyaXBIdG1sVGFncyIsImh0bWwiLCJkaXYiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsImdldFByZWZlcnJlZERlc2NyaXB0aW9uIiwiZXhjZXJwdFJlbmRlcmVkIiwicmFua01hdGhEZXNjcmlwdGlvbiIsInRyaW0iLCJnZXRGaWx0ZXJzRGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJkZWNvZGVkRGF0YSIsIm5leGpvYl9sb2thc2lfcHJvdmluc2kiLCJuZXhqb2Jfa2F0ZWdvcmlfcGVrZXJqYWFuIiwibmV4am9iX3RpcGVfcGVrZXJqYWFuIiwibmV4am9iX3BlbmdhbGFtYW5fa2VyamEiLCJuZXhqb2JfcGVuZGlkaWthbiIsIm5leGpvYl9rZWJpamFrYW5fa2VyamEiLCJuZXhqb2JfaW5kdXN0cmkiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInByb3ZpbmNlIiwiZGVjb2RlZFByb3ZpbmNlIiwibWFwIiwiY2l0eSIsImZpbHRlcktleXMiLCJrZXkiLCJBcnJheSIsImlzQXJyYXkiLCJpdGVtIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0RmFsbGJhY2tGaWx0ZXJzRGF0YSIsInRlc3RDb25uZWN0aW9uIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidGVzdEZpbHRlcnNDb25uZWN0aW9uIiwiZ2V0Sm9icyIsImZpbHRlcnMiLCJwYWdlIiwicGVyUGFnZSIsInNlYXJjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsIndwSm9icyIsInRvdGFsUGFnZXMiLCJwYXJzZUludCIsImdldCIsInRvdGFsSm9icyIsImpvYnMiLCJ3cEpvYiIsIm1ldGEiLCJpZCIsInRvU3RyaW5nIiwic2x1ZyIsInRpdGxlIiwicmVuZGVyZWQiLCJjb250ZW50IiwiY29tcGFueV9uYW1lIiwibmV4am9iX25hbWFfcGVydXNhaGFhbiIsImthdGVnb3JpX3Bla2VyamFhbiIsImxva2FzaV9wcm92aW5zaSIsImxva2FzaV9rb3RhIiwibmV4am9iX2xva2FzaV9rb3RhIiwidGlwZV9wZWtlcmphYW4iLCJwZW5kaWRpa2FuIiwiaW5kdXN0cnkiLCJwZW5nYWxhbWFuIiwidGFnIiwibmV4am9iX3RhZ19sb2tlciIsImdlbmRlciIsIm5leGpvYl9nZW5kZXIiLCJnYWppIiwibmV4am9iX2dhamkiLCJrZWJpamFrYW5fa2VyamEiLCJsaW5rIiwibmV4am9iX2xpbmtfbG9rZXIiLCJzdW1iZXJfbG93b25nYW4iLCJuZXhqb2Jfc3VtYmVyX2xva2VyIiwiY3JlYXRlZF9hdCIsImRhdGUiLCJzZW9fdGl0bGUiLCJyYW5rX21hdGhfdGl0bGUiLCJzZW9fZGVzY3JpcHRpb24iLCJleGNlcnB0IiwicmFua19tYXRoX2Rlc2NyaXB0aW9uIiwiX2lkIiwiJG9pZCIsImlkX29iaiIsIiRudW1iZXJJbnQiLCJmaWx0ZXJKb2JzIiwic29ydEJ5Iiwic29ydCIsImEiLCJiIiwiZGF0ZUEiLCJEYXRlIiwiZ2V0VGltZSIsImRhdGVCIiwiY3VycmVudFBhZ2UiLCJoYXNNb3JlIiwibW9ja0pvYnMiLCJnZXRNb2NrSm9icyIsImxlbmd0aCIsImdldEFsbEpvYnMiLCJnZXRKb2JCeVNsdWciLCJnZXRKb2JCeUlkIiwiZ2V0UmVsYXRlZEpvYnMiLCJjdXJyZW50Sm9iSWQiLCJjYXRlZ29yeSIsImxpbWl0IiwiYWxsSm9icyIsImZpbHRlciIsImpvYiIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzbGljZSIsImdldEFydGljbGVzIiwiYXJ0aWNsZXMiLCJhcnRpY2xlIiwiZmVhdHVyZWRfbWVkaWFfdXJsIiwiX2VtYmVkZGVkIiwic291cmNlX3VybCIsImF1dGhvcl9pbmZvIiwiYXV0aG9yIiwiY2F0ZWdvcmllc19pbmZvIiwiY2F0IiwibmFtZSIsInRhZ3NfaW5mbyIsImdldEFydGljbGVCeVNsdWciLCJnZXRBcnRpY2xlQnlJZCIsImdldFJlbGF0ZWRBcnRpY2xlcyIsImN1cnJlbnRBcnRpY2xlSWQiLCJsb2NhdGlvbiIsImNpdGllcyIsImpvYkNpdHlNYXRjaCIsInNvbWUiLCJqb2JUeXBlcyIsImV4cGVyaWVuY2VzIiwiZXhwZXJpZW5jZU1hdGNoIiwiZXhwIiwiZWR1Y2F0aW9ucyIsImluZHVzdHJpZXMiLCJpbmR1c3RyeU1hdGNoIiwiY2F0ZWdvcmllcyIsImNhdGVnb3J5TWF0Y2giLCJ3b3JrUG9saWNpZXMiLCJqb2JUeXBlIiwiZXhwZXJpZW5jZSIsImVkdWNhdGlvbiIsIndvcmtQb2xpY3kiLCJ0b0lTT1N0cmluZyIsIndwU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/services/wpService.ts\n");

/***/ })

};
;